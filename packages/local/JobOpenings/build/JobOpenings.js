Ext.define("JobOpenings.model.filtertoolbar.FilterbyLocation",{extend:"Ext.data.Model",fields:[{name:"name"}]});Ext.define("JobOpenings.model.filtertoolbar.FilterbyRole",{extend:"Ext.data.Model",fields:[{name:"name"}]});Ext.define("JobOpenings.model.filtertoolbar.FilterbyStatus",{extend:"Ext.data.Model",fields:[{name:"name"}]});Ext.define("JobOpenings.model.filtertoolbar.JobOpeningsDateStore",{extend:"Ext.data.Model",fields:[{name:"name"}]});Ext.define("JobOpenings.model.form.DepartmentModel",{extend:"Ext.data.Model",fields:["id","department"]});Ext.define("JobOpenings.model.form.InterviewModel",{extend:"Ext.data.Model",fields:["id","interview"]});Ext.define("JobOpenings.model.form.LocationModel",{extend:"Ext.data.Model",fields:["id","location"]});Ext.define("JobOpenings.model.form.MinMaxModel",{extend:"Ext.data.Model",fields:["id","min","max"]});Ext.define("JobOpenings.model.form.SkillsModel",{extend:"Ext.data.Model",fields:["id","skills"]});Ext.define("JobOpenings.model.jobopeningrequest.JobOpeningsRequestDataModel",{extend:"Ext.data.Model",fields:["title","recruiter_name",{name:"count"}]});Ext.define("JobOpenings.store.filtertoolbar.FilterbyLocation",{extend:"Ext.data.Store",alias:"store.filterbyLocation",storeId:"location",model:"JobOpenings.model.filtertoolbar.FilterbyLocation",proxy:{type:"ajax",url:"resources/data/jobopenings/filterstoolbar/filterbylocation.json",reader:{type:"json",rootProperty:"filterbyLocation"}}});Ext.define("JobOpenings.store.filtertoolbar.FilterbyRole",{extend:"Ext.data.Store",alias:"store.filterbyRole",storeId:"role",model:"JobOpenings.model.filtertoolbar.FilterbyRole",autoLoad:true,proxy:{type:"ajax",url:"resources/data/jobopenings/filterstoolbar/filterbyrole.json",reader:{type:"json",rootProperty:"filterbyRole"}}});Ext.define("JobOpenings.store.filtertoolbar.FilterbyStatus",{extend:"Ext.data.Store",alias:"store.filterbyStatus",storeId:"status",model:"JobOpenings.model.filtertoolbar.FilterbyStatus",autoLoad:true,proxy:{type:"ajax",url:"resources/data/jobopenings/filterstoolbar/filterbystatus.json",reader:{type:"json",rootProperty:"data"}}});Ext.define("JobOpenings.store.filtertoolbar.JobOpeningsDateStore",{extend:"Ext.data.Store",alias:"store.jobopeningsdatestore",storeId:"jobopeningsdatestore",model:"JobOpenings.model.filtertoolbar.JobOpeningsDateStore",proxy:{type:"ajax",url:"resources/data/jobopenings/filterstoolbar/filterbydate.json",reader:{type:"json",rootProperty:"filterbyDate"}}});Ext.define("JobOpenings.store.form.DepartmentStore",{extend:"Ext.data.Store",alias:"store.departmentstore",requires:["JobOpenings.model.form.DepartmentModel"],model:"JobOpenings.model.form.DepartmentModel",autoLoad:true,storeId:"departmentstore",proxy:{type:"ajax",url:"resources/data/jobopenings/form/department.json",reader:{type:"json",rootProperty:"data"}}});Ext.define("JobOpenings.store.form.InterviewStore",{extend:"Ext.data.Store",alias:"store.interviewstore",requires:["JobOpenings.model.form.InterviewModel"],model:"JobOpenings.model.form.InterviewModel",autoLoad:true,storeId:"interviewstore",proxy:{type:"ajax",url:"resources/data/jobopenings/form/interview.json",reader:{type:"json",rootProperty:"data"}}});Ext.define("JobOpenings.store.form.LocationStore",{extend:"Ext.data.Store",alias:"store.locationstore",requires:["JobOpenings.model.form.LocationModel"],model:"JobOpenings.model.form.LocationModel",autoLoad:true,storeId:"joblocationstore",proxy:{type:"ajax",url:"resources/data/jobopenings/form/location.json",reader:{type:"json",rootProperty:"data"}}});Ext.define("JobOpenings.store.form.MinMaxStore",{extend:"Ext.data.Store",alias:"store.minmaxstore",requires:["JobOpenings.model.form.MinMaxModel"],model:"JobOpenings.model.form.MinMaxModel",autoLoad:true,storeId:"minmaxstore",proxy:{type:"ajax",url:"resources/data/jobopenings/form/minmax.json",reader:{type:"json",rootProperty:"data"}}});Ext.define("JobOpenings.store.form.SkillsStore",{extend:"Ext.data.Store",alias:"store.skillsstore",requires:["JobOpenings.model.form.SkillsModel"],model:"JobOpenings.model.form.SkillsModel",autoLoad:true,storeId:"skillsstore",proxy:{type:"ajax",url:"resources/data/jobopenings/form/skills.json",reader:{type:"json",rootProperty:"data"}}});Ext.define("JobOpenings.store.jobopeningrequest.JobOpeningsRecruiter",{extend:"Ext.data.Store",alias:"store.jobopeningsrecruiter",requires:["JobOpenings.model.jobopeningrequest.JobOpeningsRequestDataModel"],model:"JobOpenings.model.jobopeningrequest.JobOpeningsRequestDataModel",autoLoad:true,proxy:{type:"ajax",url:"resources/data/jobopenings/recruiterslist.json",reader:{type:"json",rootProperty:"data"}}});Ext.define("JobOpenings.store.jobopeningrequest.JobOpeningsRequestDataStore",{extend:"Ext.data.Store",alias:"store.jobopeningsrequestdatastore",requires:["JobOpenings.model.jobopeningrequest.JobOpeningsRequestDataModel"],model:"JobOpenings.model.jobopeningrequest.JobOpeningsRequestDataModel",autoLoad:true,proxy:{type:"ajax",url:"resources/data/jobopenings/jobopeningsdata.json",reader:{type:"json",rootProperty:"data"}}});Ext.define("JobOpenings.view.jobopeningrequest.JobOpenFormController",{extend:"Ext.app.ViewController",alias:"controller.jobopenformcontroller",requires:[],onFormSaveClick:function(){var a=this.getView(),c=a.down("form").getForm(),b=c.getValues();if(c.isValid()){c.submit({success:function(d,e){Ext.Msg.alert("Success",e.result.message)},failure:function(d,e){Ext.Msg.alert("Failed",e.result?e.result.message:"No response")}})}else{Ext.Msg.alert("Error!","Please fill all the form fields")}},onDraftSaveClick:function(){var a=this.getView(),c=a.down("form").getForm(),b=c.getValues();if(c.isValid()){c.submit({success:function(d,e){Ext.Msg.alert("Success",e.result.message)},failure:function(d,e){Ext.Msg.alert("Failed",e.result?e.result.message:"No response")}})}else{Ext.Msg.alert("Error!","Please fill all the form fields")}},onBackClick:function(b){var a=this.getReferences().listview;viewId=a.getId();this.getView().getLayout().setActiveItem(viewId)},hideCombobox:function(a,c,b){Ext.create("JobOpenings.view.jobopeningrequest.filtertoolbar.JobOpeningsRequestAddfilterWindow").show()},getcombovalues:function(c,b,a){},onCreateNewJob:function(){var a=this.getReferences().jobform,b=a.getId();this.getView().getLayout().setActiveItem(b).reset()}});Ext.define("JobOpenings.view.jobopeningrequest.JobOpenFormViewModel",{extend:"Ext.app.ViewModel",alias:"viewmodel.jobopenformviewmodel"});Ext.define("JobOpenings.view.jobopeningrequest.filtertoolbar.JobOpeningsFilterView",{extend:"Ext.panel.Panel",xtype:"jobopeningsfilterview",requires:["JobOpenings.store.filtertoolbar.FilterbyStatus"],reference:"filterview",layout:{type:"hbox",width:"100%"},cls:"filtertoolbar-cls",items:[{xtype:"button",width:6,cls:"karmascore-search-icon-field job-search-icon",height:6,padding:"-8 11 14 12"},{xtype:"textfield",emptyText:"search",width:"30%",cls:"karmascore-search-field job-search-field"},{xtype:"button",cls:"filter-btncls",listeners:{click:"hideCombobox"}},{xtype:"tbfill"},{xtype:"combobox",fieldLabel:"Status",queryMode:"local",displayField:"name",valueField:"id",value:"All",cls:"requestCombo-cls",store:Ext.create("JobOpenings.store.filtertoolbar.FilterbyStatus"),autoLoadOnValue:true},{xtype:"button",text:"Create New",width:100,height:35,textAlign:"center",cls:"create-new-btn-cls",listeners:{click:"onCreateNewJob"}}]});Ext.define("JobOpenings.view.jobopeningrequest.filtertoolbar.FilterViewModel",{extend:"Ext.app.ViewModel",alias:"viewmodel.filterviewmodel"});Ext.define("JobOpenings.view.jobopeningrequest.JobOpeningsRequestListView",{extend:"Ext.container.Container",xtype:"jobopeningsrequestlistview",requires:["JobOpenings.view.jobopeningrequest.filtertoolbar.JobOpeningsFilterView","JobOpenings.view.jobopeningrequest.filtertoolbar.FilterViewModel"],cls:"jobopening-cls noscrollbar",reference:"listview",viewModel:{type:"filterviewmodel"},items:[{xtype:"container",html:'<div class="jobtitle-cls">Job Opening Requests</div>'},{xtype:"jobopeningsfilterview"},{xtype:"dataview",emptyText:"No images available",store:Ext.create("JobOpenings.store.jobopeningrequest.JobOpeningsRequestDataStore"),itemTpl:['<div class="jobsdiv-cls ddo-jobopening-item">','<div class="title-div-cls"><span class="title-cls">{title}</span>',"<span> | </span>",'<span class="creator-cls">Created By {creator}</span>','<div class="positions-cls">(4)Positions</div>',"</div>",'<div class="loc-exp"><span><i class="exp-iconcls arrow-cls"></i>&nbsp{experience}Years Experience </span>','<span><i class="location-iconcls arrow-cls"></i>&nbsp{location}</span>',"</div>",'<div class="skill-cls"><i class="skill-iconcls arrow-cls"></i>{skils}</div>','<div class="desc-cls">{jobdesc}</div>',"</div>",'<div class="status-div-cls"><div class="status-textcls">Status: {status}</div>','<div class="status-combo-cls">{[this.listRecruiter(values)]}',"<span> | </span>",'<div class="act-cls">Actions <i class="x-fa fa-sort-desc arrow-cls"></i>','<div class="act-removecls"><ul><li>Edit</li><li>Delete</li><li>Close</li></ul></div></div>',"</div>","</div>",{listRecruiter:function(c){var b=[];var a=Ext.getStore("jobopenings.JobRecruiter");if(a){a.each(function(e){b.push('<li><i class="checkImg"></i>'+e.get("recruiter_name")+"</li>")})}var d=c.isAssignVisible?"act-showcls":"act-removecls";return'<div class="rec-assigncls">Assign To <i class="x-fa fa-sort-desc arrow-cls"></i><div class="'+d+'"><ul>'+b.toString().replace(/,/g,"")+"</ul></div></div>"}}],itemSelector:"div.status-div-cls",listeners:{itemclick:function(g,a,f,b,h,c){if(h.target.className=="rec-assigncls"){var d=a.get("isAssignVisible")||false;a.set("isAssignVisible",!d)}if(h.target.lastChild!=null&&h.target.className=="act-cls"){if(h.target.lastChild.classList.value!=="act-showcls"){h.target.lastChild.className="act-showcls";h.target.lastChild.classList.remove("act-removecls")}else{h.target.lastChild.className="act-removecls";h.target.lastChild.classList.remove("act-showcls")}}if(h.target.classList.value=="checkImg"){h.target.className="uncheckImg";h.target.classList.remove("checkImg")}else{if(h.target.classList.value=="uncheckImg"){h.target.className="checkImg";h.target.classList.remove("uncheckImg")}}}}}]});Ext.define("JobOpenings.view.jobopeningrequest.JobOpeningsViewForm",{extend:"Ext.form.Panel",alias:"widget.jobopeningsviewform",xtype:"jobopeningsviewform",requires:["JobOpenings.store.form.DepartmentStore","JobOpenings.store.form.InterviewStore","JobOpenings.store.form.LocationStore","JobOpenings.store.form.SkillsStore","JobOpenings.store.form.MinMaxStore"],cls:"form-cls",reference:"jobform",dockedItems:[{xtype:"toolbar",cls:"tooltip-cls",dock:"top",items:[{xtype:"button",scale:"medium",iconCls:"goalsbackbtn-cls",cls:"jobback-btn-cls",style:{border:0},listeners:{click:"onBackClick"}},{xtype:"label",html:"Create New Job Opening",cls:"backlabel-cls"}]}],items:[{xtype:"form",title:"Requirement Details",cls:"job-header",reference:"jobopenform",layout:{type:"vbox",align:"middle",pack:"center"},border:false,buttonAlign:"center",defaults:{width:"60%"},items:[{xtype:"textfield",name:"job",required:true,fieldLabel:"Job Title:",emptyText:"Write Job Title Eg: Technical Lead",allowBlank:false,afterLabelTextTpl:'<span class="ta-mandatory-field-cls">*</span>'},{xtype:"combobox",name:"department",fieldLabel:"Department:",store:Ext.create("JobOpenings.store.form.DepartmentStore"),required:true,emptyText:"Select Department",typeAhead:true,displayField:"department",valueField:"department",typeAheadDelay:50,forceSelection:true,allowBlank:false,anyMatch:true,valueNotFoundText:"Not found",afterLabelTextTpl:'<span class="ta-mandatory-field-cls">*</span>'},{xtype:"htmleditor",cls:"editor-cls",name:"description",fieldLabel:"Job Description",id:"myEditor",submitEmptyText:false,required:true,enableFont:false,enableLists:true,enableAlignments:false,enableSourceEdit:false,enableColors:false,enableFontSize:false,allowBlank:false,border:1,validateOnChange:true,afterLabelTextTpl:'<span class="ta-mandatory-field-cls">*</span>',listeners:{isValid:"isValid",validate:"validate",checkValidityChange:" checkValidityChange",validateValue:function(){var a=this.getRawValue();return false}}},{xtype:"numberfield",name:"positions",hideTrigger:true,fieldLabel:"No. of Positions:",allowBlank:false,allowDecimals:false,required:true,invalidText:"Please enter valid data",afterLabelTextTpl:'<span class="ta-mandatory-field-cls">*</span>'},{items:[{xtype:"fieldcontainer",fieldLabel:"Work Experience:",cls:"fieldcontainer-cls",allowBlank:false,labelWidth:100,layout:"hbox",afterLabelTextTpl:'<span class="ta-mandatory-field-cls">*</span>',defaults:{padding:10,msgTarget:"side"},items:[{xtype:"combobox",emptyText:"Minimum",name:"min",allowBlank:false,store:Ext.create("JobOpenings.store.form.MinMaxStore"),displayField:"min",valueField:"min"},{xtype:"label",text:"To"},{xtype:"combobox",emptyText:"Maximum",allowBlank:false,name:"max",width:"50",store:Ext.create("JobOpenings.store.form.MinMaxStore"),valueField:"max",displayField:"max"}]}]},{xtype:"tagfield",fieldLabel:"Skills",name:"skills",reference:"combofield",emptyText:"Use Words Eg : Angular JS",store:Ext.create("JobOpenings.store.form.SkillsStore"),displayField:"skills",valueField:"skills",queryMode:"local",filterPickList:true,blankText:"This field is required",border:5,allowBlank:false,afterLabelTextTpl:'<span class="ta-mandatory-field-cls">*</span>',listeners:{getGroupTags:function(a){if(typeof(a)==="object"){if(a.isGroup){return a.tagName[0]}}}}},{xtype:"combobox",name:"location",fieldLabel:"Job Location",emptyText:"Select Location",store:Ext.create("JobOpenings.store.form.LocationStore"),displayField:"location",valueField:"location",allowBlank:false,afterLabelTextTpl:'<span class="ta-mandatory-field-cls">*</span>'},{xtype:"tagfield",cls:"tag-cls",name:"interview",fieldLabel:"Interview Panel",emptyText:"Type Users Eg : Will Smith",store:Ext.create("JobOpenings.store.form.InterviewStore"),displayField:"interview",valueField:"interview",queryMode:"local",filterPickList:true,blankText:"This field is required",allowBlank:false,afterLabelTextTpl:'<span class="ta-mandatory-field-cls">*</span>'}]}],bbar:{cls:"jobform-cls",layout:{type:"hbox",align:"middle",pack:"center"},padding:"25 0 21 0",items:[{xtype:"button",text:"Save and send to Approval",cls:"approval-btn",formBind:true,listeners:{click:"onFormSaveClick"}},{xtype:"button",text:"Save Requirement",cls:"require-btn",listeners:{click:"onDraftSaveClick"}}]}});Ext.define("JobOpenings.view.jobopeningrequest.JobOpeningsRequestView",{extend:"Ext.container.Container",xtype:"jobopeningsrequestview",requires:["JobOpenings.view.jobopeningrequest.JobOpeningsRequestListView","JobOpenings.view.jobopeningrequest.JobOpeningsViewForm","JobOpenings.view.jobopeningrequest.JobOpenFormController"],layout:{type:"card",activeItem:0},reference:"jobmainview",controller:"jobopenformcontroller",viewModel:{type:"jobopenformviewmodel"},margin:"10 0 0 10",items:[{xtype:"jobopeningsrequestlistview",id:"list"},{xtype:"jobopeningsviewform",id:"form"}]});Ext.define("JobOpenings.view.jobopeningrequest.filtertoolbar.JobOpeningRequestFilterComboboxes",{extend:"Ext.form.Panel",xtype:"jobopeningrequestfiltercomboboxes",requires:["JobOpenings.store.filtertoolbar.JobOpeningsDateStore","JobOpenings.store.filtertoolbar.FilterbyLocation","JobOpenings.store.filtertoolbar.FilterbyRole"],items:[{xtype:"toolbar",items:[{xtype:"combobox",reference:"filterdate",labelAlign:"top",fieldLabel:"Filter by Date",margin:"10 0 0 90",cls:"requestCombo-cls",queryMode:"local",displayField:"name",valueField:"name",value:"All",store:Ext.create("JobOpenings.store.filtertoolbar.JobOpeningsDateStore"),autoLoadOnValue:true},{xtype:"combobox",labelAlign:"top",cls:"requestCombo-cls",fieldLabel:"Filter by Location",margin:"10 0 0 60",queryMode:"local",displayField:"name",valueField:"name",value:"All",store:Ext.create("JobOpenings.store.filtertoolbar.FilterbyLocation"),autoLoadOnValue:true},{xtype:"tbspacer",width:"10px"}]},{xtype:"combobox",labelAlign:"top",fieldLabel:"Filter by Role",cls:"requestCombo-cls",margin:"10 0 0 100",queryMode:"local",displayField:"name",valueField:"name",value:"All",store:Ext.create("JobOpenings.store.filtertoolbar.FilterbyRole"),autoLoadOnValue:true}],dockedItems:[{xtype:"toolbar",width:"100%",margin:"0 0 30 0",dock:"bottom",items:[{xtype:"tbfill"},{xtype:"button",text:"Apply",width:150,cls:"filter-submit-btn",handler:"getcombovalues"},{xtype:"tbfill"}]}]});Ext.define("JobOpenings.view.jobopeningrequest.filtertoolbar.JobOpeningsFilterController",{extend:"Ext.app.ViewController",alias:"controller.jobopeningsfiltercontroller"});Ext.define("JobOpenings.view.jobopeningrequest.filtertoolbar.JobOpeningsRequestAddfilterWindow",{extend:"Ext.window.Window",requires:["JobOpenings.view.jobopeningrequest.filtertoolbar.JobOpeningRequestFilterComboboxes"],title:"Add Filter",modal:true,height:300,width:620,margin:"5 50 0 0",layout:{type:"fit"},closeAction:"hide",resizable:false,cls:"ddo-filter-window",title:"Add Filters",initComponent:function(){var a=this;a.callParent(arguments);a.mon(Ext.getBody(),"click",function(b,c){a.close(a.closeAction)},a,{delegate:".x-mask"})},items:[{xtype:"jobopeningrequestfiltercomboboxes"}]});