Ext.define("TalentAcquisition.overrides.window.Toast",{override:"Ext.window.Toast",stickOnClick:false,xtype:"toast",autoCloseDelay:900});Ext.define("TalentAcquisition.model.employeereferral.EmployeeReferral",{extend:"Ext.data.Model",fields:["primaryskills","candidatename","email","phone","location","recommendation","relation","referredby","curriculumvitae",{name:"ddo_jobopenings_id",type:"number"},{name:"ddo_jobapplicationstatus_id",type:"number"},{name:"ddo_employeereferral_id",type:"number"}]});Ext.define("TalentAcquisition.model.interviewdetails.InterviewDetails",{extend:"Ext.data.Model",fields:[{name:"ddo_jobapplications_id",type:"number"},"username",{name:"interviewdate",type:"date"},"skilltype","mobilenumber","email","status",{name:"intervieweremployeeid",type:"number"},"interviewtype","feedback","rating"]});Ext.define("TalentAcquisition.model.jobapplication.JobApplication",{extend:"Ext.data.Model",fields:[{name:"ddo_jobapplications_id",type:"number"},{name:"candidatename",type:"string",convert:function(c,a){var b=Ext.isEmpty(a.get("middlename"))?" ":a.get("middlename")+" ";c=a.get("firstname")+" "+b+a.get("lastname");return c}},"fathersname",{name:"yearofpassing",type:"date"},"skilltype","mobilenumber","email","address","currentcity","currentemploymentstatus","ddo_jobsource_name","ddo_jobopenings_name","ddo_jobeducation_name","ddo_designation_name","ddo_jobapplicationstatus_name",{name:"totalexperience",type:"number"},"idproof","idproofnumber",{name:"appliedon",type:"date"},{name:"availablefrom",type:"date"},{name:"noticeperiodindays",type:"number"},"curriculumvitae",{name:"ddo_jobsource_id",type:"number"},{name:"jobsourcevalue",type:"number"},"comments",{name:"ddo_jobopenings_id",type:"number"},{name:"ddo_jobeducation_id",type:"number"},{name:"ddo_designation_id",type:"number"},{name:"recruitedby",type:"number"},{name:"referredby",type:"number"},{name:"vendorname",type:"number"},{name:"jobportalname",type:"number"},{name:"ddo_jobapplicationstatus_id",type:"number"}]});Ext.define("TalentAcquisition.model.jobapplicationstatus.JobApplicationStatus",{extend:"Ext.data.Model",fields:["name","description",{name:"ddo_jobapplicationstatus_id",type:"number"}]});Ext.define("TalentAcquisition.model.jobeducation.JobEducation",{extend:"Ext.data.Model",fields:["name","description",{name:"ddo_jobeducation_id",type:"number"}]});Ext.define("TalentAcquisition.model.jobinterviewrating.JobInterviewRating",{extend:"Ext.data.Model",fields:["name","description",{name:"ddo_jobinterviewrating_id",type:"number"}]});Ext.define("TalentAcquisition.model.jobinterviewstatus.JobInterviewStatus",{extend:"Ext.data.Model",fields:["name","description",{name:"ddo_jobinterviewstatus_id",type:"number"}]});Ext.define("TalentAcquisition.model.joblocation.JobLocation",{extend:"Ext.data.Model",fields:["name","description",{name:"ddo_joblocation_id",type:"number"}]});Ext.define("TalentAcquisition.model.jobopenings.JobOpenings",{extend:"Ext.data.Model",fields:["jobcode","name","totalexperience","openpositions","responsibilities","primaryskills","secondaryskills","jobstatus",{name:"validfrom",type:"date"},{name:"validto",type:"date"},"isbillable",{name:"ddo_department_id",type:"number"},{name:"ddo_joblocation_id",type:"number"},{name:"ddo_jobopenings_id",type:"number"},{name:"ddo_designation_id",type:"number"},{name:"ddo_jobeducation_id",type:"number"}]});Ext.define("TalentAcquisition.model.jobsource.JobSource",{extend:"Ext.data.Model",fields:["name","description",{name:"ddo_jobsource_id",type:"number"}]});Ext.define("TalentAcquisition.model.jobsourcelines.JobSourceLines",{extend:"Ext.data.Model",fields:["name","description","ddo_jobsource_name",{name:"ddo_jobsourcelines_id",type:"number"},{name:"ddo_jobsource_id",type:"number"}]});Ext.define("TalentAcquisition.model.jobtype.JobType",{extend:"Ext.data.Model",fields:["name","description",{name:"ddo_jobtype_id",type:"number"}]});Ext.define("TalentAcquisition.model.scheduleinterview.ScheduleInterview",{extend:"Ext.data.Model",fields:[{name:"ddo_scheduleinterview_id",type:"number"},"interviewtype",{name:"interviewdate",type:"date"},"time",{name:"ddo_jobopenings_id",type:"number"},{name:"ddo_jobapplications_id",type:"number"},{name:"intervieweremployeeid",type:"number"},{name:"ddo_designation_id",type:"number"},"candidatename","isdone","curriculumvitae","ddo_designation_name","ddo_jobopenings_name","intervieweremployeeid_name","isconfirmed"]});Ext.define("TalentAcquisition.store.ReportingsStore",{extend:"Ext.data.Store",alias:"store.reportingsstore",autoLoad:true,proxy:{type:"ajax",url:"/utility/getempbasiclist",reader:{type:"json",rootProperty:"data"}}});Ext.define("TalentAcquisition.store.employeereferral.EmployeeReferralStore",{extend:"Ext.data.Store",alias:"store.employeereferralstore",requires:["TalentAcquisition.model.employeereferral.EmployeeReferral"],storeId:"employeereferralstore",model:"TalentAcquisition.model.employeereferral.EmployeeReferral",autoLoad:true,proxy:{type:"ajax",api:{read:"/employeereferral",update:"/employeereferral",create:"/employeereferral",destroy:"/employeereferral"},actionMethods:{read:"GET",create:"POST",update:"PUT",destroy:"DELETE"},reader:{type:"json",rootProperty:"data"}}});Ext.define("TalentAcquisition.store.employeereferral.MyReferralsStore",{extend:"Ext.data.Store",alias:"store.myreferralsstore",requires:["TalentAcquisition.model.employeereferral.EmployeeReferral"],storeId:"myreferralsstore",model:"TalentAcquisition.model.employeereferral.EmployeeReferral",proxy:{type:"ajax",api:{read:"/employeereferral"},actionMethods:{read:"GET"},reader:{type:"json",rootProperty:"data"}}});Ext.define("TalentAcquisition.store.interviewdetails.Interviewdetails",{extend:"Ext.data.Store",alias:"store.interviewdetailsstore",requires:["TalentAcquisition.model.interviewdetails.InterviewDetails"],model:"TalentAcquisition.model.interviewdetails.InterviewDetails"});Ext.define("TalentAcquisition.store.jobapplication.JobApplicationStore",{extend:"Ext.data.Store",alias:"store.jobapplicationstore",requires:["TalentAcquisition.model.jobapplication.JobApplication"],model:"TalentAcquisition.model.jobapplication.JobApplication",proxy:{type:"ajax",api:{read:"/jobapplications",update:"/jobapplications",create:"/jobapplications",destroy:"/jobapplications"},actionMethods:{read:"GET",create:"POST",update:"PUT",destroy:"DELETE"},reader:{type:"json",rootProperty:"data"}}});Ext.define("TalentAcquisition.store.jobapplicationstatus.JobApplicationStatusStore",{extend:"Ext.data.Store",alias:"store.jobapplicationstatusstore",requires:["TalentAcquisition.model.jobapplicationstatus.JobApplicationStatus"],model:"TalentAcquisition.model.jobapplicationstatus.JobApplicationStatus",storeId:"jobapplicationstatusstore",autoLoad:true,proxy:{type:"ajax",api:{read:"/jobapplicationstatus",update:"/jobapplicationstatus",create:"/jobapplicationstatus",destroy:"/jobapplicationstatus"},actionMethods:{read:"GET",create:"POST",update:"PUT",destroy:"DELETE"},reader:{type:"json",rootProperty:"data"}}});Ext.define("TalentAcquisition.store.jobeducation.JobEducationStore",{extend:"Ext.data.Store",alias:"store.jobeducationstore",requires:["TalentAcquisition.model.jobeducation.JobEducation"],model:"TalentAcquisition.model.jobeducation.JobEducation",autoLoad:"true",storeId:"jobeducationstore",proxy:{type:"ajax",api:{read:"/jobeducation",update:"/jobeducation",create:"/jobeducation",destroy:"/jobeducation"},actionMethods:{read:"GET",create:"POST",update:"PUT",destroy:"DELETE"},reader:{type:"json",rootProperty:"data"}}});Ext.define("TalentAcquisition.store.jobinterviewrating.JobInterviewRatingStore",{extend:"Ext.data.Store",alias:"store.jobinterviewratingstore",requires:["TalentAcquisition.model.jobinterviewrating.JobInterviewRating"],model:"TalentAcquisition.model.jobinterviewrating.JobInterviewRating",proxy:{type:"ajax",api:{read:"/jobinterviewrating",update:"/jobinterviewrating",create:"/jobinterviewrating",destroy:"/jobinterviewrating"},actionMethods:{read:"GET",create:"POST",update:"PUT",destroy:"DELETE"},reader:{type:"json",rootProperty:"data"}}});Ext.define("TalentAcquisition.store.jobinterviewstatus.JobInterviewStatusStore",{extend:"Ext.data.Store",alias:"store.jobinterviewstatusstore",requires:["TalentAcquisition.model.jobinterviewstatus.JobInterviewStatus"],model:"TalentAcquisition.model.jobinterviewstatus.JobInterviewStatus",proxy:{type:"ajax",api:{read:"/jobinterviewstatus",update:"/jobinterviewstatus",create:"/jobinterviewstatus",destroy:"/jobinterviewstatus"},actionMethods:{read:"GET",create:"POST",update:"PUT",destroy:"DELETE"},reader:{type:"json",rootProperty:"data"}}});Ext.define("TalentAcquisition.store.joblocation.JobLocationStore",{extend:"Ext.data.Store",alias:"store.joblocationstore",requires:["TalentAcquisition.model.joblocation.JobLocation"],storeId:"joblocationstores",model:"TalentAcquisition.model.joblocation.JobLocation",proxy:{type:"ajax",api:{read:"/joblocation",update:"/joblocation",create:"/joblocation",destroy:"/joblocation"},actionMethods:{read:"GET",create:"POST",update:"PUT",destroy:"DELETE"},reader:{type:"json",rootProperty:"data"}}});Ext.define("TalentAcquisition.store.jobopenings.ApplicationDetailsStore",{extend:"Ext.data.Store",alias:"store.applicationdetailstore",storeId:"applicationdetailstore",requires:["TalentAcquisition.model.jobapplication.JobApplication"],model:"TalentAcquisition.model.jobapplication.JobApplication",proxy:{type:"ajax",api:{},actionMethods:{read:"GET",create:"POST",update:"PUT",destroy:"DELETE"},reader:{type:"json",rootProperty:"data"}}});Ext.define("TalentAcquisition.store.jobopenings.JobOpeningsStore",{extend:"Ext.data.Store",alias:"store.jobopeningsstore",requires:["TalentAcquisition.model.jobopenings.JobOpenings"],storeId:"jobopeningsstores",model:"TalentAcquisition.model.jobopenings.JobOpenings",autoLoad:true,proxy:{type:"ajax",api:{read:"/jobopenings",update:"/jobopenings",create:"/jobopenings",destroy:"/jobopenings"},actionMethods:{read:"GET",create:"POST",update:"PUT",destroy:"DELETE"},reader:{type:"json",rootProperty:"data"}}});Ext.define("TalentAcquisition.store.jobsource.JobSourceStore",{extend:"Ext.data.Store",alias:"store.jobsourcestore",requires:["TalentAcquisition.model.jobsource.JobSource"],storeId:"jobsourcestores",model:"TalentAcquisition.model.jobsource.JobSource",autoLoad:true,proxy:{type:"ajax",api:{read:"/jobsource",update:"/jobsource",create:"/jobsource",destroy:"/jobsource"},actionMethods:{read:"GET",create:"POST",update:"PUT",destroy:"DELETE"},reader:{type:"json",rootProperty:"data"}}});Ext.define("TalentAcquisition.store.jobsourcelines.JobSourceLinesStore",{extend:"Ext.data.Store",alias:"store.jobsourcelinesstore",requires:["TalentAcquisition.model.jobsourcelines.JobSourceLines"],storeId:"jobsourcelinesstores",model:"TalentAcquisition.model.jobsourcelines.JobSourceLines",autoLoad:true,proxy:{type:"ajax",api:{read:"/jobsourceline",update:"/jobsourceline",create:"/jobsourceline",destroy:"/jobsourceline"},actionMethods:{read:"GET",create:"POST",update:"PUT",destroy:"DELETE"},reader:{type:"json",rootProperty:"data"}}});Ext.define("TalentAcquisition.store.jobsourcelines.Portal",{extend:"Ext.data.ChainedStore",requires:["TalentAcquisition.store.jobsourcelines.JobSourceLinesStore"],source:"jobsourcelinesstores",alias:"store.portal",storeId:"portal",autoLoad:true,filters:[function(a){return a.get("ddo_jobsource_name")=="Job Portal"?true:false}]});Ext.define("TalentAcquisition.store.jobsourcelines.Vendor",{extend:"Ext.data.ChainedStore",requires:["TalentAcquisition.store.jobsourcelines.JobSourceLinesStore"],source:"jobsourcelinesstores",alias:"store.vendor",autoLoad:true,storeId:"vendor",filters:[function(a){return a.get("ddo_jobsource_name")=="Consultancy"?true:false}]});Ext.define("TalentAcquisition.store.jobtype.JobTypeStore",{extend:"Ext.data.Store",alias:"store.jobtypestore",requires:["TalentAcquisition.model.jobtype.JobType"],storeId:"jobtypestores",model:"TalentAcquisition.model.jobtype.JobType",proxy:{type:"ajax",api:{read:"/jobtype",update:"/jobtype",create:"/jobtype",destroy:"/jobtype"},actionMethods:{read:"GET",create:"POST",update:"PUT",destroy:"DELETE"},reader:{type:"json",rootProperty:"data"}}});Ext.define("TalentAcquisition.store.scheduledinterview.ScheduledInterviewStore",{extend:"Ext.data.Store",alias:"store.scheduledinterviewstore",requires:["TalentAcquisition.model.scheduleinterview.ScheduleInterview"],model:"TalentAcquisition.model.scheduleinterview.ScheduleInterview",proxy:{type:"ajax",api:{read:"/scheduleinterview"},actionMethods:{read:"GET"},reader:{type:"json",rootProperty:"data"}},sorter:{property:"ddo_scheduleinterview_id",order:"DESC"}});Ext.define("TalentAcquisition.store.scheduleinterview.ScheduleInterviewStore",{extend:"Ext.data.Store",alias:"store.scheduleinterviewstore",requires:["TalentAcquisition.model.scheduleinterview.ScheduleInterview"],model:"TalentAcquisition.model.scheduleinterview.ScheduleInterview",proxy:{type:"ajax",api:{update:"/scheduleinterview",create:"/scheduleinterview",destroy:"/scheduleinterview"},actionMethods:{create:"POST",update:"PUT",destroy:"DELETE"},reader:{type:"json",rootProperty:"data"}}});Ext.define("TalentAcquisition.ux.container.CollapsibleContainerViewModel",{extend:"Ext.app.ViewModel",alias:"viewmodel.collapsiblecontainerviewmodel",data:{northRegion:false,hideBtn:true,buttontext:"Confirm",portal:true,consultency:true,reffredBy:true,joiend:false}});Ext.define("TalentAcquisition.ux.container.CollapsibleContainer",{alias:"widget.collapsiblecontainer",extend:"Ext.container.Container",cls:"ta-collapsible-cont",requires:["TalentAcquisition.ux.container.CollapsibleContainerViewModel","Ext.button.Button","Ext.form.field.Text","Ext.form.field.Hidden","Ext.layout.container.Border"],cls:"ta-header",config:{hideFilter:true,fbButtonHide:false,mainContainerTitle:"Main Container",eastContainerTitle:"East Container",addBtnText:"Add New",grid:"",form:"",gridStore:"",bigForm:false},reference:"collapsiblecontainer",defaults:{collapsible:true,split:false},layout:"border",height:600,requires:[],initComponent:function(){var g=this,b=g.getAddBtnText(),f=g.getMainContainerTitle(),e=g.getEastContainerTitle(),c=g.getGrid(),h=g.getForm(),a=g.getBigForm(),d=g.getGridStore();(g.filterData)?g.setHideFilter(false):g.setHideFilter(true);(g.fbButtonRequired)?g.setFbButtonHide(false):g.setFbButtonHide(true);g.viewModel=Ext.create("TalentAcquisition.ux.container.CollapsibleContainerViewModel");Ext.apply(g,{items:[{title:f,region:"north",height:55,bind:{hidden:"{northRegion}"},collapsible:false,split:false,tools:[{hidden:g.hideFilter,xtype:"combo",cls:"ta-search-field",fieldLabel:"Choose column",store:Ext.create("Ext.data.Store",{fields:["value","name"],data:g.filterData}),name:"filterColumn",queryMode:"local",displayField:"name",valueField:"value"},{xtype:"tbspacer",width:30,hidden:g.hideFilter},{xtype:"searchfield",store:d,name:"filterField",cls:"ta-search-field",hidden:g.hideFilter,hasSearch:false,enableKeyEvents:true,onSearchClick:function(l){var i=(l)?l:this;var k=(i)?i.getValue():"";var j=(i)?i.up().down("combo").getValue():"";if(k.length>0&&j.length>0){i.activeFilter=new Ext.util.Filter({property:j,value:k});i.store.setRemoteFilter(false);i.store.getFilters().add(i.activeFilter);i.getTrigger("clear").show();i.updateLayout()}else{i.onClearClick()}}},{xtype:"button",scale:"medium",name:"mainBackBtn",margin:"0 0 0 10",style:{border:0},bind:{hidden:"{hideBtn}"},iconCls:"goalsbackbtn-cls",cls:"back-btn-cls",handler:function(){var k=this.up("[name=applicationdetailsviewcolps]"),j=this.up("[name=referredEmployeeCollCon]");var i,l;if(!Ext.isEmpty(k)){i=k.up("jobopenings-card");if(!Ext.isEmpty(i)){k.getViewModel().set("hideBtn",true);i.setActiveItem(0)}}if(!Ext.isEmpty(j)){l=this.up("referredemployeeview");if(!Ext.isEmpty(l)){j.getViewModel().set("hideBtn",true);j.down("[name=eastpanel]").collapse()}}}},{xtype:"button",hidden:(g.fbButtonRequired)?false:true,reference:"fbButton",name:(g.scheduleFbButton)?"scheduleFbButton":"fbButton",iconCls:"rule-plus",focusable:false,floating:true,shadow:false,autoShow:true,tooltip:b,cls:"ta-float-btn x-floating",handler:function(){var i=this.up("collapsiblecontainer").down("[name=eastpanel]");if(!Ext.isEmpty(i)){this.up("collapsiblecontainer").down("form").reset();i.toggleCollapse();i.down("textfield").focus()}}}]},{title:e,xtype:"panel",scrollable:true,itemId:"eastcontainer",region:"east",name:"eastpanel",preventHeader:true,hideCollapseTool:true,collapseMode:"mini",split:false,collapsed:true,margin:"5 0 0 0",width:a?"100%":"50%",items:[{xtype:h}],listeners:{expand:function(){var i=this.up("collapsiblecontainer").down("[name=eastpanel]"),k=this.up("collapsiblecontainer"),j=this;console.log("Main Container going to be expand and Fab setHidden :",!k.getFbButtonHide());k.down("button[iconCls=rule-plus]").setHidden(!k.getFbButtonHide());if(!k.getHideFilter()){k.down("combo[name=filterColumn]").setHidden(true);k.down("searchfield[name=filterField]").setHidden(true)}},collapse:function(){var i=this.up("collapsiblecontainer").down("[name=eastpanel]"),j=this.up("collapsiblecontainer");console.log("Main Container going to be collapse and Fab setHidden :",j.getFbButtonHide());j.down("button[iconCls=rule-plus]").setHidden(j.getFbButtonHide());if(!j.getHideFilter()){j.down("combo[name=filterColumn]").setHidden(false);j.down("searchfield[name=filterField]").setHidden(false)}}}},{hideHeaders:true,collapsible:false,region:"center",items:[{xtype:c,store:d}]}]});this.callParent(arguments)},listeners:{boxready:function(d,c,a,b){d.down("[reference=fbButton]").setHidden(d.getFbButtonHide())}}});Ext.define("TalentAcquisition.ux.plugins.MandatoryFieldPlugin",{extend:"Ext.plugin.Abstract",alias:"plugin.mandatoryfieldplugin",init:function(b){this.setCmp(b);var a=b;if(!a.allowBlank){a.labelSeparator=a.labelSeparator+' <span style="color: rgb(255, 0, 0); padding-left: 2px;">*</span>'}}});Ext.define("TalentAcquisition.view.jobapplication.jobapplications.JobApplicationForm",{extend:"Ext.form.Panel",requires:["Ext.form.field.ComboBox","TalentAcquisition.store.jobopenings.JobOpeningsStore","TalentAcquisition.store.jobeducation.JobEducationStore","TalentAcquisition.store.jobapplicationstatus.JobApplicationStatusStore","TalentAcquisition.store.jobsource.JobSourceStore","TalentAcquisition.store.jobsourcelines.JobSourceLinesStore","TalentAcquisition.store.ReportingsStore","TalentAcquisition.store.jobopenings.JobOpeningsStore","TalentAcquisition.store.jobsourcelines.Portal","TalentAcquisition.store.jobsourcelines.Vendor"],alias:"widget.jobapplicationform",defaults:{width:"100%"},padding:20,scrollable:true,bbar:{cls:"appwindow-cls",layout:{type:"hbox"},padding:"25 0 21 0",items:[{xtype:"button",text:"Cancel",cls:"app-window-cancel-btn",handler:"eastContainerCollapse"},{xtype:"button",text:"Save",cls:"app-window-save-btn",formBind:true,handler:"eastContainerCollapse",listeners:{click:"onFormSaveClick"}}]},layout:{type:"vbox",align:"middle",pack:"stretch"},items:[{xtype:"container",defaults:{cls:"rule-name-cls",labelWidth:"25%",padding:10,msgTarget:"side",beforeLabelTextTpl:'<span class="ta-mandatory-field-cls">*</span>'},layout:{type:"column"},items:[{xtype:"hiddenfield",name:"ddo_jobapplications_id"},{xtype:"combobox",columnWidth:0.5,fieldLabel:"Job Opening",allowBlank:false,store:"jobopeningsstores",editable:false,forceSelection:true,displayField:"name",valueField:"ddo_jobopenings_id",name:"ddo_jobopenings_id",bind:{readOnly:"{joiend}"},listeners:{beforequery:function(a){delete a.combo.lastQuery}}}]},{xtype:"fieldset",title:"Candidate Details",items:[{xtype:"container",defaults:{beforeLabelTextTpl:'<span class="ta-mandatory-field-cls">*</span>',labelWidth:"25%",cls:"ta-search-field",padding:10,msgTarget:"side"},layout:{type:"column"},items:[{xtype:"textfield",fieldLabel:"First Name",name:"firstname",allowBlank:false,columnWidth:0.5,bind:{readOnly:"{joiend}"}},{fieldLabel:"Middle Name",xtype:"textfield",name:"middlename",beforeLabelTextTpl:"",columnWidth:0.5,bind:{readOnly:"{joiend}"}},{fieldLabel:"Last Name",xtype:"textfield",name:"lastname",allowBlank:false,columnWidth:0.5,bind:{readOnly:"{joiend}"}},{xtype:"textfield",fieldLabel:"Father's name",name:"fathersname",columnWidth:0.5,beforeLabelTextTpl:"",bind:{readOnly:"{joiend}"}},{xtype:"combobox",fieldLabel:"Highest Education",typeAhead:true,typeAheadDelay:50,queryMode:"local",forceSelection:true,anyMatch:true,store:"jobeducationstore",displayField:"name",valueField:"ddo_jobeducation_id",name:"ddo_jobeducation_id",allowBlank:false,columnWidth:0.5,bind:{readOnly:"{joiend}"},listeners:{beforequery:function(a){delete a.combo.lastQuery}}},{xtype:"datefield",fieldLabel:"Year of Passing",name:"yearofpassing",allowBlank:false,columnWidth:0.5,maxValue:new Date(),bind:{readOnly:"{joiend}"}},{xtype:"combobox",fieldLabel:"Skill Type",editable:false,store:{type:"jobopeningsstore"},displayField:"primaryskills",valueField:"primaryskills",name:"skilltype",columnWidth:0.5,allowBlank:false,bind:{readOnly:"{joiend}"}}]}]},{xtype:"fieldset",title:"Communication Details",items:[{xtype:"container",defaults:{beforeLabelTextTpl:'<span class="ta-mandatory-field-cls">*</span>',labelWidth:"25%",cls:"ta-search-field",padding:10,msgTarget:"side"},layout:{type:"column"},items:[{xtype:"numberfield",fieldLabel:"Mobile Number",name:"mobilenumber",columnWidth:0.5,allowBlank:false,minValue:0,hideTrigger:true,keyNavEnabled:false,mouseWheelEnabled:false,maxLength:12,minLength:10,regex:/^[0-9]*$/i,invalidText:"Please enter valid data",enforceMaxLength:10,bind:{readOnly:"{joiend}"}},{fieldLabel:"Email",xtype:"textfield",name:"email",vtype:"email",columnWidth:0.5,allowBlank:false,bind:{readOnly:"{joiend}"}},{fieldLabel:"Address",xtype:"textarea",name:"address",columnWidth:0.5,allowBlank:false,bind:{readOnly:"{joiend}"}}]}]},{xtype:"fieldset",title:"Other Details",items:[{xtype:"container",defaults:{labelWidth:"25%",cls:"ta-search-field",padding:10,msgTarget:"side"},layout:{type:"column"},items:[{xtype:"textfield",fieldLabel:"Current City",name:"currentcity",columnWidth:0.5,bind:{readOnly:"{joiend}"}},{xtype:"combobox",fieldLabel:"Current Employment Status",editable:false,name:"currentemploymentstatus",store:["Employed","Not Employed","Serving Notice"],displayField:"name",valueField:"name",columnWidth:0.5,bind:{readOnly:"{joiend}"}},{fieldLabel:"Previous Company",xtype:"textfield",name:"previouscompany",columnWidth:0.5,bind:{readOnly:"{joiend}"}},{xtype:"numberfield",hideTrigger:true,mouseWheelEnabled:false,minValue:0,maxLength:4,fieldLabel:"Total Experience (Years)",labelAlign:"center",name:"totalexperience",columnWidth:0.5,bind:{readOnly:"{joiend}"}},{fieldLabel:"ID. Proof",xtype:"textfield",name:"idproof",columnWidth:0.5,bind:{readOnly:"{joiend}"}},{xtype:"textfield",fieldLabel:"ID. Proof Number",name:"idproofnumber",columnWidth:0.5,bind:{readOnly:"{joiend}"}},{fieldLabel:"Available From",xtype:"datefield",name:"availablefrom",columnWidth:0.5,bind:{readOnly:"{joiend}"}},{fieldLabel:"Applied On",xtype:"datefield",name:"appliedon",columnWidth:0.5,bind:{readOnly:"{joiend}"}},{fieldLabel:"Notice Period (Days)",xtype:"numberfield",hideTrigger:true,columnWidth:0.5,mouseWheelEnabled:false,minValue:0,maxLength:3,minLength:1,regex:/^[0-9]*$/i,invalidText:"Please enter valid data",name:"noticeperiodindays",bind:{readOnly:"{joiend}"}},{xtype:"combobox",columnWidth:0.5,allowBlank:false,typeAhead:true,typeAheadDelay:50,forceSelection:true,name:"ddo_designation_id",fieldLabel:"Requested Designation",beforeLabelTextTpl:'<span class="ta-mandatory-field-cls">*</span>',store:{type:"designationstore",autoLoad:"true"},displayField:"name",valueField:"ddo_designation_id",bind:{readOnly:"{joiend}"},listeners:{beforequery:function(a){delete a.combo.lastQuery}}}]}]},{xtype:"fieldset",title:"Hiring Details",items:[{xtype:"container",defaults:{labelWidth:"25%",cls:"ta-search-field",padding:10,msgTarget:"side"},layout:{type:"column"},items:[{xtype:"combobox",fieldLabel:"Recruiter",store:{type:"reportingsstore"},columnWidth:0.5,allowBlank:false,name:"recruitedby",displayField:"empname",valueField:"empid",beforeLabelTextTpl:'<span class="ta-mandatory-field-cls">*</span>',typeAhead:true,typeAheadDelay:50,queryMode:"local",forceSelection:true,bind:{readOnly:"{joiend}"}},{xtype:"combobox",columnWidth:0.5,fieldLabel:"Status",store:"jobapplicationstatusstore",displayField:"name",allowBlank:false,valueField:"ddo_jobapplicationstatus_id",name:"ddo_jobapplicationstatus_id",beforeLabelTextTpl:'<span class="ta-mandatory-field-cls">*</span>',editable:false,bind:{readOnly:"{joiend}"},listeners:{beforequery:function(a){delete a.combo.lastQuery}}},{xtype:"combobox",fieldLabel:"Hiring Source",store:"jobsourcestores",name:"ddo_jobsource_id",displayField:"name",valueField:"ddo_jobsource_id",editable:false,bind:{readOnly:"{joiend}"},columnWidth:0.5,listeners:{change:function(c,e,a){var b=this.up("[name=jobapplicationviewcolps]"),d;if(!Ext.isEmpty(b)){d=b.getViewModel();if(c.getRawValue()=="Job Portal"){d.set("portal",false);d.set("consultency",true);d.set("reffredBy",true)}else{if(c.getRawValue()=="Consultancy"){d.set("portal",true);d.set("consultency",false);d.set("reffredBy",true)}else{if(c.getRawValue()=="Referred by employee"){d.set("portal",true);d.set("consultency",true);d.set("reffredBy",false)}}}d.notify()}},beforequery:function(a){delete a.combo.lastQuery}}},{xtype:"form",columnWidth:0.49,margin:"0 0 0 10",items:[{anchor:"100%",xtype:"filefield",opType:"upload",name:"feedsImage",buttonOnly:true,buttonConfig:{cls:"request-access-btn",width:"100%",text:"Browse doc, pdf extension files only"},bind:{readOnly:"{joiend}"},listeners:{change:"onCVupload"},fieldLabel:"Upload CV :"}]}]},{xtype:"hiddenfield",name:"curriculumvitae"},{xtype:"container",defaults:{labelWidth:"25%",cls:"ta-search-field",padding:10,msgTarget:"side"},layout:{type:"column"},items:[{xtype:"combobox",fieldLabel:"Referred By",store:{type:"reportingsstore"},name:"referredby",bind:{hidden:"{reffredBy}"},displayField:"empname",valueField:"empid",columnWidth:0.5,typeAhead:true,typeAheadDelay:50,queryMode:"local",forceSelection:true},{xtype:"combobox",fieldLabel:"Consultancy Name",name:"vendorname",editable:false,store:{type:"vendor"},bind:{hidden:"{consultency}"},displayField:"name",columnWidth:0.5,valueField:"ddo_jobsourcelines_id",listeners:{beforequery:function(a){delete a.combo.lastQuery}}},{xtype:"combobox",fieldLabel:"Job Portal Name",editable:false,name:"jobportalname",store:{type:"portal"},bind:{hidden:"{portal}"},displayField:"name",columnWidth:0.5,valueField:"ddo_jobsourcelines_id",listeners:{beforequery:function(a){delete a.combo.lastQuery}}},{xtype:"textarea",fieldLabel:"Comments",bind:{readOnly:"{joiend}"},columnWidth:1,name:"comments"}]}]}]});Ext.define("TalentAcquisition.view.jobapplication.jobapplications.JobApplicationGrid",{extend:"Ext.grid.Panel",alias:"widget.jobapplicationgrid",cls:"karmalist-cls",viewConfig:{loadMask:false},height:500,width:"100%",margin:"0 0 0 10",padding:"0px 10px 0px 0px",columns:[{text:"Application No.",dataIndex:"ddo_jobapplications_id",flex:0.4,hidden:true,height:42},{text:"Job Opening",dataIndex:"ddo_jobopenings_name",flex:0.4},{text:"Candidate Name",dataIndex:"candidatename",flex:0.4},{text:"Status",dataIndex:"ddo_jobapplicationstatus_name",flex:0.3},{text:"Address",dataIndex:"address",hidden:true,flex:0.4},{text:"Mobile No.",dataIndex:"mobilenumber",flex:0.4},{text:"Education",dataIndex:"ddo_jobeducation_name",flex:0.4},{text:"Email",dataIndex:"email",flex:0.5},{xtype:"widgetcolumn",width:120,align:"center",widget:{xtype:"button",text:"Interview",tooltip:"Schedule Interview",cls:"request-access-btn",handler:"onAScheduleInterviewBtnClick"}},{xtype:"actioncolumn",width:50,align:"center",items:[{iconCls:"delete-plus",tooltip:"Delete",handler:function(b,f,a){var c=b.getStore(),e=c.getAt(f),d;d={ddo_jobapplications_id:e.get("ddo_jobapplications_id")};Ext.Ajax.request({url:"/jobapplications",method:"DELETE",params:d,success:function(i,g){c.removeAt(f);c.reload();Ext.getBody().unmask();var h=Ext.decode(i.responseText);Ext.toast(h.message,false,"t")},failure:function(i,g){Ext.getBody().unmask();var h=Ext.decode(i.responseText);Ext.toast(h.message,false,"t")}})}}]}],listeners:{rowdblclick:"onGridRowClick"}});Ext.define("TalentAcquisition.view.jobapplication.jobapplications.JobApplicationController",{extend:"Ext.app.ViewController",alias:"controller.jobapplicationcontroller",requires:["TalentAcquisition.overrides.window.Toast"],onGridRowClick:function(k,f,c,l,g,h){var m=this.getView(),j=m.down("[name=jobapplicationviewcolps]"),d=j.getViewModel(),a=m.down("form").getForm();a.setValues(f.data);setTimeout(function(){if(f.get("ddo_jobapplicationstatus_name")=="Joined"||f.get("ddo_jobapplicationstatus_name")=="Offer Rejected"){d.set("joiend",true)}else{d.set("joiend",false)}},1000);m.down("form").oldValues=f.data;m.down("form").oldValues.ddo_jobapplicationstatus_name=f.get("ddo_jobapplicationstatus_name");var i=this.getView().down("collapsiblecontainer"),b=i.down("[name=eastpanel]");if(!Ext.isEmpty(b)){b.toggleCollapse()}},onWindowOutsideTap:function(){},eastContainerCollapse:function(){var a=this.getView(),d=a.down("[name=jobapplicationviewcolps]"),b=a.down("collapsiblecontainer").down("[name=eastpanel]");a.down("form").reset();if(!Ext.isEmpty(b)){b.toggleCollapse()}if(!Ext.isEmpty(d)){var c=d.getViewModel();c.set("portal",true);c.set("consultency",true);c.set("reffredBy",true);c.set("joiend",false)}},onFormSaveClick:function(){var f=this.getView(),i=f.down("[name=jobapplicationviewcolps]"),b=f.down("form"),c=b.down("[name = ddo_jobapplicationstatus_id]"),d=i.getViewModel(),g=b.getValues(),a=f.down("grid"),h=b.oldValues,e=c.getRawValue();b.reset();if(d.get("joiend")){Ext.toast("Allready Joined",false,"t");return}if(Ext.isEmpty(g.ddo_jobapplications_id)){delete g.ddo_jobapplications_id}g.mobilenumber=g.mobilenumber+"";Ext.Ajax.request({url:"/jobapplications",method:Ext.isEmpty(g.ddo_jobapplications_id)?"POST":"PUT",params:g,success:function(l,j){a.getStore().reload();Ext.getBody().unmask();var k=Ext.decode(l.responseText);Ext.toast(k.message,false,"t");console.log("chirag names",e);console.log(e=="Joined");if(e=="Joined"){console.log("coming in side");Ext.Ajax.request({url:"/ddonominate",method:"POST",params:{points:20,karmaId:1000035,toCbpid:g.recruitedby,comment:"Employee joined,                                                            ",karmaCategoryId:1000000,projectEmpIds:g.recruitedby,selfnomi:true},success:function(n,m){},failure:function(n,m){}});if(!Ext.isEmpty(g.referredby)){setTimeout(function(){Ext.Ajax.request({url:"/ddonominate",method:"POST",params:{points:30,karmaId:1000036,toCbpid:g.referredby,comment:"New Candidate Joined - Referred Employee                                 ",karmaCategoryId:1000000,projectEmpIds:g.referredby,selfnomi:true},success:function(n,m){},failure:function(n,m){}})},500)}}else{if(e=="No Show"){Ext.Ajax.request({url:"/ddonominate",method:"POST",params:{points:-10,karmaId:1000037,toCbpid:g.recruitedby,comment:"If the candidate did not join after accepting the offer          ",karmaCategoryId:1000001,projectEmpIds:g.recruitedby,selfnomi:true},success:function(n,m){},failure:function(n,m){}})}}},failure:function(l,j){Ext.getBody().unmask();if(!Ext.isEmpty(l.responseText)){var k=Ext.decode(l.responseText);Ext.toast(k.message,false,"t")}else{Ext.toast("Failed To Perform Opertion",false,"t")}}})},onAScheduleInterviewBtnClick:function(f){var a=f.getWidgetRecord();var g=this.getView().up("jobapplicationmainview");var e=g.down("scheduleinterviewview");var h=e.down("collapsiblecontainer");var c=h.getViewModel();var b=e.getViewModel();var d=g.down("scheduleinterviewgrid");c.set("northRegion",true);d.getStore().removeAll();if(b){b.set("isdone","N");b.set("ddo_jobapplications_id",a.get("ddo_jobapplications_id"));b.set("ddo_designation_id",a.get("ddo_designation_id"));b.set("ddo_jobopenings_id",a.get("ddo_jobopenings_id"));b.set("curriculumvitae",a.get("curriculumvitae"));b.set("recruitedby",a.get("recruitedby"))}Ext.Ajax.request({url:"/scheduleinterview/"+a.get("ddo_jobapplications_id"),method:"GET",success:function(k,i){var j=Ext.decode(k.responseText);d.getStore().loadData(j.data)},failure:function(k,i){var j=Ext.decode(k.responseText);Ext.getBody().unmask();Ext.toast(j.message,false,"t")}});g.setActiveItem(e);e.customRecord=a;h.down("[name=scheduleFbButton]").setHidden(false)},onCVupload:function(f,i,e){var g=this,b=f.fileInputEl.dom.files[0],c=i,d=new FileReader(),h=b.type,a=f.up("form"),j=a.up("form").down("hiddenfield[name=curriculumvitae]");d.onload=function(){if(h=="application/msword"||h=="application/pdf"||h=="application/doc"||h=="application/docx"||h=="application/txt"||h=="application/wps"||h=="application/odt"||h=="application/wpd"||h=="application/rtf"){a.submit({url:"/feed/feedsPostedPics",waitMsg:"Uploading your cv...",success:function(k,n){var m=Ext.JSON.decode(n.response.responseText),l=m.data;j.setValue(l);Ext.toast({html:"File uploaded successfully",width:150,align:"t"})},failure:function(k){Ext.toast({html:"File not loaded",width:150,align:"t"})}})}else{Ext.toast({html:"Invalid Format",width:150,align:"t"})}};d.readAsDataURL(b)}});Ext.define("TalentAcquisition.view.jobapplication.jobapplications.JobApplicationViewModel",{extend:"Ext.app.ViewModel",alias:"viewmodel.jobapplicationviewmodel",data:{portal:true,consultency:true,reffredBy:true,joiend:false}});Ext.define("TalentAcquisition.view.jobapplication.jobapplications.JobApplication",{extend:"Ext.container.Container",alias:"widget.jobapplicationview",requires:["TalentAcquisition.view.jobapplication.jobapplications.JobApplicationForm","TalentAcquisition.ux.container.CollapsibleContainer","TalentAcquisition.view.jobapplication.jobapplications.JobApplicationGrid","TalentAcquisition.view.jobapplication.jobapplications.JobApplicationController","TalentAcquisition.view.jobapplication.jobapplications.JobApplicationViewModel","TalentAcquisition.store.jobapplication.JobApplicationStore"],controller:"jobapplicationcontroller",viewModel:{type:"jobapplicationviewmodel"},items:[{xtype:"collapsiblecontainer",mainContainerTitle:"Job Applications",grid:"jobapplicationgrid",name:"jobapplicationviewcolps",gridStore:Ext.create("TalentAcquisition.store.jobapplication.JobApplicationStore"),form:"jobapplicationform",bigForm:true,filterData:[{name:"Job openings",value:"ddo_jobopenings_name"},{name:"Candidate Name",value:"candidatename"},{name:"Email",value:"email"},{name:"Mobile Number",value:"mobilenumber"}],fbButtonRequired:true}],listeners:{activate:function(d,c,a,b){this.down("grid").getStore().load()}}});Ext.define("TalentAcquisition.view.jobapplication.scheduleinterview.ScheduleInterviewForm",{extend:"Ext.form.Panel",requires:["Ext.form.field.ComboBox","TalentAcquisition.store.jobopenings.JobOpeningsStore","TalentAcquisition.store.jobeducation.JobEducationStore","TalentAcquisition.store.ReportingsStore"],alias:"widget.scheduleinterviewform",defaults:{width:"100%"},cls:"ta-header",scrollable:true,bigForm:true,bbar:{layout:{type:"hbox"},cls:"appwindow-cls",padding:"25 0 21 0",items:[{xtype:"button",text:"Cancel",cls:"app-window-cancel-btn",handler:"eastContainerCollapse",listeners:{click:function(){this.up("form").getForm().reset()}}},{xtype:"button",text:"Save",cls:"app-window-save-btn",formBind:true,handler:"eastContainerCollapse",listeners:{click:"onFormSaveClick"}}]},layout:{type:"vbox",align:"middle",pack:"stretch"},items:[{xtype:"container",defaults:{cls:"rule-name-cls",beforeLabelTextTpl:'<span class="ta-mandatory-field-cls">*</span>',width:"50%",msgTarget:"side"},layout:{type:"hbox",pack:"start",align:"stretch"},items:[{xtype:"hiddenfield",name:"ddo_scheduleinterview_id"},{xtype:"hiddenfield",name:"ddo_jobapplications_id"},{xtype:"hiddenfield",name:"ddo_designation_id"},{xtype:"hiddenfield",name:"isdone"},{xtype:"combobox",fieldLabel:"Job Opening",store:"jobopeningsstores",displayField:"name",readOnly:true,valueField:"ddo_jobopenings_id",name:"ddo_jobopenings_id",hideTrigger:true,bind:{value:"{ddo_jobopenings_id}"},listeners:{change:function(b,a,c){if(Ext.isEmpty(b.getValue())){b.setValue(c)}}}}]},{xtype:"fieldset",title:"Interview Details",items:[{xtype:"container",defaults:{labelWidth:"25%",beforeLabelTextTpl:'<span class="ta-mandatory-field-cls">*</span>',cls:"ta-search-field",width:"50%",padding:10,msgTarget:"side"},layout:{type:"hbox",pack:"start",align:"stretch","float":"left"},items:[{xtype:"combobox",store:{type:"reportingsstore"},displayField:"empname",valueField:"empid",fieldLabel:"Interviewer Name",allowBlank:false,queryMode:"local",forceSelection:true,name:"intervieweremployeeid",typeAhead:true,typeAheadDelay:50,listeners:{beforequery:function(a){delete a.combo.lastQuery}}},{xtype:"combobox",fieldLabel:"Interview Type",store:new Ext.data.SimpleStore({fields:["interviewtype"],data:[["Telephonic"],["Skype"],["Face to face"]]}),displayField:"interviewtype",valueField:"interviewtype",allowBlank:false,name:"interviewtype",editable:false}]},{xtype:"container",defaults:{labelWidth:"25%",cls:"ta-search-field",beforeLabelTextTpl:'<span class="ta-mandatory-field-cls">*</span>',width:"50%",padding:10,msgTarget:"side"},layout:{type:"hbox",pack:"start",align:"stretch","float":"left"},items:[{fieldLabel:"Date",xtype:"datefield",name:"interviewdate",editable:false,allowBlank:false,minValue:new Date()},{xtype:"combobox",fieldLabel:"Time",editable:false,store:new Ext.data.SimpleStore({fields:["time"],data:[["09:00 am"],["09:30 am"],["10:00 am"],["10:30 am"],["11:00 am"],["11:30 am"],["12:00 am"],["12:30 pm"],["01:00 pm"],["01:30 pm"],["02:00 pm"],["02:30 pm"],["03:00 pm"],["03:30 pm"],["04:00 pm"],["04:30 pm"],["05:00 pm"],["05:30 pm"],["06:00 pm"],["06:30 pm"],["07:00 pm"],["07:30 pm"],["08:00 pm"],["08:30 pm"],["09:00 pm"],["09:30 pm"],["010:00 pm"],["10:30 pm"],["11:00 pm"],["11:30 pm"],["12:00 am"],["12:30 am"]]}),displayField:"time",valueField:"time",name:"time",allowBlank:false}]}]}]});Ext.define("TalentAcquisition.view.jobapplication.scheduleinterview.ScheduleInterviewGrid",{extend:"Ext.grid.Panel",alias:"widget.scheduleinterviewgrid",cls:"karmalist-cls",viewConfig:{loadMask:false},height:500,width:"100%",margin:"0 0 0 10",padding:"0px 10px 0px 0px",columns:[{text:"Interviewer Name",dataIndex:"intervieweremployeeid_name",flex:0.4},{text:"Interview Type",dataIndex:"interviewtype",flex:0.4},{text:"Date",dataIndex:"interviewdate",flex:0.4,renderer:Ext.util.Format.dateRenderer("d/m/Y")},{text:"Time",dataIndex:"time",flex:0.4},{text:"Job Opening",dataIndex:"ddo_jobopenings_name",flex:0.4},{text:"Designation",dataIndex:"ddo_designation_name",flex:0.4},{xtype:"actioncolumn",width:50,align:"center",items:[{iconCls:"delete-plus",tooltip:"Delete",handler:function(b,f,a){var c=b.getStore(),e=c.getAt(f),d;d={ddo_scheduleinterview_id:e.get("ddo_scheduleinterview_id")};Ext.Ajax.request({url:"/scheduleinterview",method:"DELETE",params:d,success:function(i,g){c.removeAt(f);c.reload();Ext.getBody().unmask();var h=Ext.decode(i.responseText);Ext.toast(h.message,false,"t")},failure:function(i,g){Ext.getBody().unmask();var h=Ext.decode(i.responseText);Ext.toast(h.message,false,"t")}})}}]}],listeners:{rowdblclick:"onGridRowClick"}});Ext.define("TalentAcquisition.view.jobapplication.scheduleinterview.ScheduleInterviewController",{extend:"Ext.app.ViewController",alias:"controller.scheduleinterviewcontroller",requires:["TalentAcquisition.overrides.window.Toast"],onGridRowClick:function(i,f,c,j,g,h){var k=this.getView(),d=k.getViewModel(),a=k.down("form").getForm();k.down("[iconCls=rule-plus]").setHidden(true);a.setValues(f.data);var b=this.getView().down("collapsiblecontainer").down("[name=eastpanel]");if(!Ext.isEmpty(b)){b.toggleCollapse()}},onWindowOutsideTap:function(){},onFeedbackSubmitClick:function(c,d,b){var a=Ext.ComponentQuery.query("jobinterviewfeedback")[0]||Ext.create("TalentAcquisition.view.jobapplication.scheduleinterview.JobInterviewFeedback");a.show()},eastContainerCollapse:function(){var a=this.getView();if(a.down("scheduleinterviewform")&&a.down("scheduleinterviewform").isNewForm){a.down("scheduleinterviewform").isNewForm=false;a.setActiveItem(0)}else{eastpanel=a.down("collapsiblecontainer").down("[name=eastpanel]");a.down("[iconCls=rule-plus]").setHidden(false);a.down("form").reset();if(!Ext.isEmpty(eastpanel)){eastpanel.toggleCollapse()}}},onInterviewDetailsClick:function(c){var b=this.getView(),a=b.up("jobapplicationmainview"),e=a.down("interviewdetailsgrid"),d=a.down("interviewdetailsform"),f=a.down("interviewdetailsview");e.getStore().removeAll();f.getViewModel().set("customReadOnly",false);d.getForm().setValues(b.customRecord.getData());f.getViewModel().set("customReadOnly",true);a.setActiveItem(f);f.down("button").setHidden(false);Ext.Ajax.request({url:"/jobinterviewdetails/"+b.customRecord.get("ddo_jobapplications_id"),method:"GET",success:function(i,g){var h=Ext.decode(i.responseText);e.getStore().loadData(h.data)},failure:function(i,g){var h=Ext.decode(i.responseText);Ext.getBody().unmask();Ext.toast("Unable to save data",false,"t");Ext.toast(h.message,false,"t")}})},onFabBtnClick:function(b){var a=this.getView();a.setActiveItem(1);a.down("scheduleinterviewform").isNewForm=true},onBackButtonClick:function(e){var b=this.getView(),a=b.up("jobapplicationmainview"),d=a.down("jobapplicationview"),f=d.down("collapsiblecontainer"),c=f.getViewModel();c.set("northRegion",false);a.setActiveItem(d)},onFormSaveClick:function(){var a=this.getView(),c=a.getViewModel(),e=a.down("[name = scheduleinterview]"),b=e.getValues(),d=a.down("grid"),f=c.get("recruitedby");e.reset();if(Ext.isEmpty(b.ddo_scheduleinterview_id)){delete b.ddo_scheduleinterview_id;b.ddo_jobopenings_id=c.get("ddo_jobopenings_id");b.ddo_jobapplications_id=c.get("ddo_jobapplications_id");b.ddo_designation_id=c.get("ddo_designation_id");b.isdone=c.get("isdone")}Ext.Ajax.request({url:"/scheduleinterview",method:Ext.isEmpty(b.ddo_scheduleinterview_id)?"POST":"PUT",params:b,success:function(i,g){d.getStore().removeAll();Ext.Ajax.request({url:"/scheduleinterview/"+c.get("ddo_jobapplications_id"),method:"GET",success:function(l,j){var k=Ext.decode(l.responseText);d.getStore().loadData(k.data);Ext.getBody().unmask();Ext.toast(k.message,false,"t");if(!Ext.isEmpty(f)&&Ext.isEmpty(b.ddo_scheduleinterview_id)){Ext.Ajax.request({url:"/ddonominate",method:"POST",params:{points:1,karmaId:1000038,toCbpid:f,comment:"Interview Scheduled,                                                            ",karmaCategoryId:1000000,projectEmpIds:f,selfnomi:true},success:function(n,m){},failure:function(n,m){}})}},failure:function(l,j){var k=Ext.decode(l.responseText);Ext.getBody().unmask();Ext.toast(k.message,false,"t")}});var h=Ext.decode(i.responseText);Ext.toast(h.message,false,"t")},failure:function(i,g){Ext.getBody().unmask();var h=Ext.decode(i.responseText);Ext.toast(h.message,false,"t")}})}});Ext.define("TalentAcquisition.view.jobapplication.scheduleinterview.ScheduleInterviewViewModel",{extend:"Ext.app.ViewModel",alias:"viewmodel.scheduleinterviewviewmodel",data:{ddo_jobapplications_id:null,ddo_designation_id:null,isdone:null,ddo_jobopenings_id:null,curriculumvitae:null,buttontext:"Confirm",recruitedby:null}});Ext.define("TalentAcquisition.view.jobapplication.scheduleinterview.ScheduleInterview",{extend:"Ext.container.Container",alias:"widget.scheduleinterviewview",requires:["TalentAcquisition.view.jobapplication.scheduleinterview.ScheduleInterviewForm","TalentAcquisition.ux.container.CollapsibleContainer","TalentAcquisition.view.jobapplication.scheduleinterview.ScheduleInterviewGrid","TalentAcquisition.view.jobapplication.scheduleinterview.ScheduleInterviewController","TalentAcquisition.view.jobapplication.scheduleinterview.ScheduleInterviewViewModel","TalentAcquisition.store.scheduleinterview.ScheduleInterviewStore"],controller:"scheduleinterviewcontroller",viewModel:{type:"scheduleinterviewviewmodel"},mainContainerTitle:"Schedule Interview",layout:"card",activeItem:0,items:[{xtype:"panel",cls:"ta-header",title:"Schedule Interview",tools:[{xtype:"button",iconCls:"goalsbackbtn-cls",scale:"medium",cls:"back-btn-cls",style:{border:0},listeners:{click:"onBackButtonClick"}},{xtype:"button",margin:"0 0 0 10",style:{border:0},scale:"medium",text:"Interview Details",cls:"back-btn-cls",listeners:{click:"onInterviewDetailsClick"}}],items:[{xtype:"collapsiblecontainer",mainContainerTitle:"Schedule Interview",grid:"scheduleinterviewgrid",gridStore:Ext.create("TalentAcquisition.store.scheduleinterview.ScheduleInterviewStore"),form:"scheduleinterviewform",bigForm:true,fbButtonRequired:true,scheduleFbButton:true}],lbar:{width:30,height:"100%",layout:{type:"vbox"},items:[{xtype:"tbfill"},{xtype:"button",iconCls:"rule-plus",focusable:false,floating:true,shadow:false,autoShow:true,tooltip:"Add New",cls:"ta-float-btn x-floating",handler:"onFabBtnClick"}]}},{xtype:"panel",title:"Schedule Interview",tools:[{xtype:"button",iconCls:"goalsbackbtn-cls",scale:"medium",cls:"back-btn-cls",style:{border:0},listeners:{click:"onBackButtonClick"}},{xtype:"button",margin:"0 0 0 10",style:{border:0},scale:"medium",text:"Interview Details",cls:"back-btn-cls",listeners:{click:"onInterviewDetailsClick"}}],xtype:"scheduleinterviewform",name:"scheduleinterview"}]});Ext.define("TalentAcquisition.view.jobapplication.interviewdetails.InterviewDetailsForm",{extend:"Ext.form.Panel",requires:["Ext.form.field.ComboBox","TalentAcquisition.store.jobopenings.JobOpeningsStore","TalentAcquisition.store.jobeducation.JobEducationStore","TalentAcquisition.store.jobapplicationstatus.JobApplicationStatusStore","TalentAcquisition.store.jobsource.JobSourceStore"],alias:"widget.interviewdetailsform",bigForm:true,defaults:{width:"100%"},scrollable:true,layout:{type:"vbox",align:"middle",pack:"stretch"},items:[{xtype:"fieldset",title:"Candidate Details",items:[{xtype:"container",defaults:{labelSeparator:"",width:"50%",padding:10,msgTarget:"side"},layout:{type:"hbox",pack:"start",align:"stretch","float":"left"},items:[{xtype:"textfield",fieldLabel:"Candidate Name",name:"firstname",bind:{readOnly:"{customReadOnly}"}},{fieldLabel:"Application No",xtype:"numberfield",name:"ddo_jobapplications_id",hideTrigger:true,bind:{readOnly:"{customReadOnly}"}}]},{xtype:"container",defaults:{labelSeparator:"",width:"50%",padding:10,msgTarget:"side"},layout:{type:"hbox",pack:"start",align:"stretch"},items:[{fieldLabel:"Phone Number",xtype:"textfield",name:"mobilenumber",bind:{readOnly:"{customReadOnly}"}},{xtype:"textfield",fieldLabel:"Skill Type",name:"skilltype",bind:{readOnly:"{customReadOnly}"}}]},{xtype:"container",defaults:{labelSeparator:"",width:"50%",padding:10,msgTarget:"side"},layout:{type:"hbox",pack:"start",align:"stretch"},items:[{xtype:"textfield",fieldLabel:"Email",name:"email",bind:{readOnly:"{customReadOnly}"}},{xtype:"textfield",fieldLabel:"Status",name:"ddo_jobapplicationstatus_name",bind:{readOnly:"{customReadOnly}"}}]}]}]});Ext.define("TalentAcquisition.view.jobapplication.interviewdetails.InterviewDetailsGrid",{extend:"Ext.grid.Panel",alias:"widget.interviewdetailsgrid",cls:"karmalist-cls",viewConfig:{loadMask:false},height:500,width:"100%",margin:"0 0 0 10",padding:"0px 10px 0px 0px",columns:[{text:"Interviewer",dataIndex:"interviewername",flex:0.4,height:42},{text:"Date",dataIndex:"interviewdate",flex:0.4,renderer:Ext.util.Format.dateRenderer("d/m/Y")},{text:"Interview Sequence Level",dataIndex:"interviewtype",flex:0.4},{text:"Rating",dataIndex:"rating",flex:0.4},{text:"Feedback",dataIndex:"feedback",flex:0.4}]});Ext.define("TalentAcquisition.view.jobapplication.interviewdetails.InterviewDetailsController",{extend:"Ext.app.ViewController",alias:"controller.interviewdetailscontroller",onGridRowClick:function(g,b,d,i,h,c){var a=this.getView(),f=a.down("form").getForm();f.setValues(b.data);Ext.first("#eastcontainer").toggleCollapse(false)},onInterviewBackButtonClick:function(d){var b=this.getView(),a=b.up("jobapplicationmainview"),c=a.down("scheduleinterviewview");a.setActiveItem(c);b.down("button").setHidden(true);c.down("button").setHidden(false)}});Ext.define("TalentAcquisition.view.jobapplication.interviewdetails.InterviewDetailsViewModel",{extend:"Ext.app.ViewModel",alias:"viewmodel.interviewdetailsviewmodel",data:{customReadOnly:true}});Ext.define("TalentAcquisition.view.jobapplication.interviewdetails.InterviewDetails",{extend:"Ext.panel.Panel",alias:"widget.interviewdetailsview",cls:"ta-header",requires:["TalentAcquisition.view.jobapplication.interviewdetails.InterviewDetailsForm","TalentAcquisition.ux.container.CollapsibleContainer","TalentAcquisition.view.jobapplication.interviewdetails.InterviewDetailsGrid","TalentAcquisition.view.jobapplication.interviewdetails.InterviewDetailsController","TalentAcquisition.view.jobapplication.interviewdetails.InterviewDetailsViewModel","TalentAcquisition.store.interviewdetails.Interviewdetails"],controller:"interviewdetailscontroller",viewModel:{type:"interviewdetailsviewmodel"},title:"Interview Details",layout:"vbox",tools:[{xtype:"button",scale:"medium",iconCls:"goalsbackbtn-cls",cls:"back-btn-cls",style:{border:0},listeners:{click:"onInterviewBackButtonClick"}}],items:[{xtype:"interviewdetailsform",width:"100%"},{xtype:"interviewdetailsgrid",flex:1,store:Ext.create("TalentAcquisition.store.interviewdetails.Interviewdetails")}]});Ext.define("TalentAcquisition.view.jobapplication.JobApplication",{extend:"Ext.container.Container",alias:"widget.jobapplicationmainview",requires:["TalentAcquisition.view.jobapplication.jobapplications.JobApplication","TalentAcquisition.view.jobapplication.scheduleinterview.ScheduleInterview","TalentAcquisition.view.jobapplication.interviewdetails.InterviewDetails"],cls:"goalstab-cls",layout:"card",items:[{title:"Application",xtype:"jobapplicationview"},{title:"Schedule Interview",xtype:"scheduleinterviewview"},{title:"Interview Details",xtype:"interviewdetailsview"}],listeners:{activate:function(d,c,a,b){this.down("[name=filterColumn]").reset()}}});Ext.define("TalentAcquisition.view.jobapplication.scheduledinterview.JobInterviewFeedback",{extend:"Ext.window.Window",modal:true,resizable:false,cls:"rule-window-cls",closable:false,closeAction:"hide",requires:["TalentAcquisition.store.jobinterviewrating.JobInterviewRatingStore"],alias:"widget.jobinterviewfeedback",title:"Job Interview Feedback",controller:"scheduledinterviewcontroller",listeners:{show:function(b,a){b.center()}},width:700,height:350,items:[{xtype:"form",defaults:{padding:"30 0 0 30"},bbar:{layout:{type:"hbox"},padding:"15 0 21 0",items:[{xtype:"button",text:"Cancel",cls:"karmaform-cancel-btn",listeners:{click:"onFormCancelClick"}},{xtype:"button",text:"Save",cls:"karmaform-save-btn",formBind:true,listeners:{click:"onFormSaveClick"}}]},items:[{xtype:"hiddenfield",name:"ddo_jobapplications_id"},{xtype:"combobox",allowBlank:false,name:"ddo_jobinterviewrating_id",fieldLabel:"Rating",cls:"ta-search-field",editable:false,store:{type:"jobinterviewratingstore"},displayField:"name",valueField:"ddo_jobinterviewrating_id"},{xtype:"textarea",fieldLabel:"Feedback",cls:"ta-search-field",width:"90%",allowBlank:false}]}]});Ext.define("TalentAcquisition.view.jobapplication.scheduledinterview.ScheduledInterviewForm",{extend:"Ext.form.Panel",requires:["Ext.form.field.ComboBox","TalentAcquisition.store.jobopenings.JobOpeningsStore","TalentAcquisition.store.jobeducation.JobEducationStore","TalentAcquisition.store.ReportingsStore"],alias:"widget.scheduledinterviewform",defaults:{width:"100%"},bbar:{layout:{type:"hbox"},padding:"25 0 21 0",cls:"appwindow-cls",items:[{xtype:"button",text:"Cancel",cls:"app-window-cancel-btn",listeners:{click:"eastContainerCollapse"}},{xtype:"button",bind:{text:"{buttontext}"},cls:"app-window-save-btn",handler:"onFeedbackSubmitClick"}]},layout:{type:"vbox",align:"middle",pack:"stretch"},items:[{xtype:"container",defaults:{cls:"rule-name-cls",width:"50%",padding:10},layout:{type:"hbox",pack:"start",align:"stretch"},items:[{xtype:"hiddenfield",name:"ddo_scheduleinterview_id"},{xtype:"hiddenfield",name:"ddo_jobapplications_id"},{xtype:"hiddenfield",name:"ddo_designation_id"},{xtype:"hiddenfield",name:"isdone"},{xtype:"hiddenfield",name:"isconfirmed"},{xtype:"hiddenfield",reference:"cvpath",name:"curriculumvitae"},{xtype:"hiddenfield",name:"intervieweremployeeid"},{xtype:"combobox",fieldLabel:"Job Opening",store:"jobopeningsstores",readOnly:true,displayField:"name",valueField:"ddo_jobopenings_id",name:"ddo_jobopenings_id"},{xtype:"button",text:"Download CV",width:150,rigth:0,cls:"request-access-btn view-cv-btn-cls",listeners:{click:"onViewCVBtnClick"}}]},{xtype:"fieldset",title:"Interview Details",items:[{xtype:"container",defaults:{labelWidth:"25%",cls:"ta-search-field",width:"50%",padding:10},layout:{type:"hbox",pack:"start",align:"stretch","float":"left"},items:[{xtype:"textfield",editable:false,fieldLabel:"Interviewee Name",name:"intervieweename",reference:"intervieweename"},,{xtype:"combobox",fieldLabel:"Interview Type",readOnly:true,store:new Ext.data.SimpleStore({fields:["interviewtype"],data:[["Telephonic"],["Skype"],["Face to face"]]}),displayField:"interviewtype",valueField:"interviewtype",name:"interviewtype"}]},{xtype:"container",defaults:{labelWidth:"25%",cls:"ta-search-field",width:"50%",padding:10},layout:{type:"hbox",pack:"start",align:"stretch","float":"left"},items:[{fieldLabel:"Date",xtype:"datefield",readOnly:true,name:"interviewdate"},{xtype:"combobox",fieldLabel:"Time",readOnly:true,store:new Ext.data.SimpleStore({fields:["time"],data:[["09:00 am"],["09:30 am"],["10:00 am"],["10:30 am"],["11:00 am"],["11:30 am"],["12:00 am"],["12:30 pm"],["01:00 pm"],["01:30 pm"],["02:00 pm"],["02:30 pm"],["03:00 pm"],["03:30 pm"],["04:00 pm"],["04:30 pm"],["05:00 pm"],["05:30 pm"],["06:00 pm"],["06:30 pm"],["07:00 pm"],["07:30 pm"],["08:00 pm"],["08:30 pm"],["09:00 pm"]]}),displayField:"time",valueField:"time",name:"time"}]},{xtype:"container",defaults:{labelWidth:"25%",cls:"ta-search-field",width:"50%",padding:10},layout:{type:"hbox",pack:"start",align:"stretch","float":"left"},items:[{xtype:"textfield",fieldLabel:"Profile",readOnly:true,name:"ddo_jobopenings_name"},{xtype:"textfield",fieldLabel:"Designation",readOnly:true,name:"ddo_designation_name"}]}]}]});Ext.define("TalentAcquisition.view.jobapplication.scheduledinterview.ScheduledInterviewGrid",{extend:"Ext.grid.Panel",alias:"widget.scheduledinterviewgrid",cls:"karmalist-cls",viewConfig:{loadMask:false},height:500,width:"100%",margin:"0 0 0 10",padding:"0px 10px 0px 0px",columns:[{text:"Candidate Name",dataIndex:"intervieweename",flex:0.4},{text:"Interview Type",dataIndex:"interviewtype",flex:0.4},{text:"Date",dataIndex:"interviewdate",flex:0.4,renderer:Ext.util.Format.dateRenderer("d/m/Y")},{text:"Time",dataIndex:"time",flex:0.4},{text:"Job Opening",dataIndex:"ddo_jobopenings_name",flex:0.4},{text:"Designation",dataIndex:"ddo_designation_name",flex:0.4}],listeners:{rowdblclick:"onGridRowClick"}});Ext.define("TalentAcquisition.view.jobapplication.scheduledinterview.ScheduledInterviewController",{extend:"Ext.app.ViewController",alias:"controller.scheduledinterviewcontroller",requires:["TalentAcquisition.view.jobapplication.scheduledinterview.JobInterviewFeedback","TalentAcquisition.overrides.window.Toast"],onGridRowClick:function(j,f,c,k,g,h){var l=this.getView(),d=l.down("[name=scheduledinterviewviewcols]").getViewModel(),i=l.down("collapsiblecontainer"),b=i.down("[name=eastpanel]"),a=l.down("form").getForm();a.setValues(f.data);if(f.get("isconfirmed")=="Y"){d.set("buttontext","Feedback")}else{d.set("buttontext","Confirm")}if(!Ext.isEmpty(b)){b.toggleCollapse()}i.down("button[iconCls=rule-plus]").setHidden(true)},onWindowOutsideTap:function(b,c){var a=this.getView()},onFeedbackSubmitClick:function(d,g,c){var b=this.getView().down("form").getValues();if(d.getText()=="Confirm"){b.isconfirmed="Y";delete b.ddo_designation_name;delete b.ddo_jobopenings_name;delete b.curriculumvitae;delete b.intervieweename;Ext.Ajax.request({url:"/scheduleinterview",method:"PUT",params:b,success:function(i,e){},failure:function(i,e){}});d.setText("Feedback")}else{if(b.isdone=="Y"){Ext.Msg.alert("Alert","You have allready given feedback");return}var h=Ext.ComponentQuery.query("jobapplicationgrid")[0]?Ext.ComponentQuery.query("jobapplicationgrid")[0].getStore():"";var f;var a=Ext.ComponentQuery.query("jobinterviewfeedback")[0]||Ext.create("TalentAcquisition.view.jobapplication.scheduledinterview.JobInterviewFeedback",{customview:this.getView()});if(!Ext.isEmpty(h)){f=h.findRecord("ddo_jobapplications_id",parseInt(b.ddo_jobapplications_id));if(!Ext.isEmpty(f)){a.apprec=f}}a.customData=b;a.show()}},eastContainerCollapse:function(){var a=this.getView(),b=a.down("collapsiblecontainer").down("[name=eastpanel]");a.down("form").reset();if(!Ext.isEmpty(b)){b.toggleCollapse()}},onFormSaveClick:function(){var b=this.getView(),e=this,f=b.customview,d=f.down("scheduledinterviewform").down("[text=Cancel]"),a=b.customData,g=b.apprec,c=f.down("grid");a.ddo_jobinterviewrating_id=b.down("combobox").getValue();a.feedback=b.down("textarea").getValue();d.fireEvent("click",d);var h={feedback:a.feedback,ddo_jobinterviewrating_id:a.ddo_jobinterviewrating_id,ddo_jobopenings_id:a.ddo_jobopenings_id,ddo_scheduleinterview_id:a.ddo_scheduleinterview_id,ddo_jobapplications_id:a.ddo_jobapplications_id};Ext.Ajax.request({url:"/jobinterviewfeedback",method:"POST",params:h,success:function(k,i){b.hide();var j=Ext.decode(k.responseText);Ext.getBody().unmask();Ext.toast(j.message,false,"t");c.getStore().load();Ext.Ajax.request({url:"/ddonominate",method:"POST",params:{points:5,karmaId:1000040,toCbpid:a.intervieweremployeeid,comment:"Feed back is Done                                                          ",karmaCategoryId:1000000,projectEmpIds:a.intervieweremployeeid,selfnomi:true},success:function(m,l){},failure:function(m,l){}});if(!Ext.isEmpty(g)){setTimeout(function(){Ext.Ajax.request({url:"/ddonominate",method:"POST",params:{points:2,karmaId:1000040,toCbpid:g.get("recruitedby"),comment:"Feed back is Done                                                          ",karmaCategoryId:1000000,projectEmpIds:g.get("recruitedby"),selfnomi:true},success:function(m,l){},failure:function(m,l){}})},100)}},failure:function(j,i){}})},onFormCancelClick:function(){var a=this.getView();a.down("form").getForm().reset();a.hide()},onViewCVBtnClick:function(e){var f=this,b=f.getView(),d=b.lookupReference("cvpath").getValue(),a=b.lookupReference("intervieweename").getValue(),c=window.location.origin+"/"+d;if(Ext.isEmpty(d)){Ext.toast("CV does not exits",false,"t")}else{window.open(c)}}});Ext.define("TalentAcquisition.view.jobapplication.scheduledinterview.ScheduledInterviewViewModel",{extend:"Ext.app.ViewModel",alias:"viewmodel.scheduledinterviewviewmodel",data:{buttontext:"Confirm"}});Ext.define("TalentAcquisition.view.jobapplication.scheduledinterview.ScheduledInterview",{extend:"Ext.container.Container",alias:"widget.scheduledinterviewview",requires:["TalentAcquisition.view.jobapplication.scheduledinterview.ScheduledInterviewForm","TalentAcquisition.ux.container.CollapsibleContainer","TalentAcquisition.view.jobapplication.scheduledinterview.ScheduledInterviewGrid","TalentAcquisition.view.jobapplication.scheduledinterview.ScheduledInterviewController","TalentAcquisition.view.jobapplication.scheduledinterview.ScheduledInterviewViewModel","TalentAcquisition.store.scheduledinterview.ScheduledInterviewStore","Ext.window.MessageBox"],controller:"scheduledinterviewcontroller",viewModel:{type:"scheduledinterviewviewmodel"},items:[{xtype:"collapsiblecontainer",mainContainerTitle:"Interview Request",name:"scheduledinterviewviewcols",grid:"scheduledinterviewgrid",hideButton:true,bigForm:true,gridStore:Ext.create("TalentAcquisition.store.scheduledinterview.ScheduledInterviewStore"),form:"scheduledinterviewform",fbButtonRequired:false}],listeners:{activate:function(f,e,b,d){var c=this.down("grid").getStore();var a=Ext.getStore("login").data.items[0].getData().ddo_employee_id;c.load();c.setRemoteFilter(false);c.filter({property:"intervieweremployeeid",value:a});c.sort({property:"ddo_scheduleinterview_id",direction:"DESC"});setTimeout(function(){if(c.getCount()==0){Ext.Msg.alert("Alert"," No Interview is scheduled for you ")}},1500)}}});Ext.define("TalentAcquisition.view.jobapplicationstatus.JobApplicationStatusForm",{extend:"Ext.form.Panel",requires:[],alias:"widget.jobapplicationstatusform",initComponent:function(){this.callParent(arguments)},items:[{xtype:"form",bbar:{layout:{type:"hbox"},cls:"appwindow-cls",padding:"25 0 21 0",items:[{xtype:"button",text:"Cancel",cls:"app-window-cancel-btn",handler:"eastContainerCollapse"},{xtype:"button",text:"Save",cls:"app-window-save-btn",formBind:true,handler:"eastContainerCollapse",listeners:{click:"onFormSaveClick"}}]},items:[{xtype:"hiddenfield",name:"ddo_jobapplicationstatus_id"},{xtype:"textfield",allowBlank:false,name:"name",emptyText:"Name",msgTarget:"side",required:true,cls:"rule-name-cls",listeners:{focus:function(a){if(a.value!=null||""){if(a.value=="Joined"||a.value=="No Show"||a.value=="Offer Rejected"||a.value=="Offer Revoked"){this.setEditable(false);Ext.toast("This value cannot be changed as it is being used in another screen",false,"t")}else{this.setEditable(true)}}}}},{xtype:"textfield",name:"description",emptyText:"Description",cls:"rule-name-cls"}]}]});Ext.define("TalentAcquisition.view.jobapplicationstatus.JobApplicationStatusGrid",{extend:"Ext.grid.Panel",alias:"widget.jobapplicationstatusgrid",cls:"karmalist-cls",viewConfig:{loadMask:false},height:500,width:"100%",margin:"0 0 0 10",padding:"0px 10px 0px 0px",columns:[{text:"Name",dataIndex:"name",flex:0.3,height:42,filter:{type:"string",itemDefaults:{emptyText:"Search..."}}},{text:"Description",dataIndex:"description",flex:0.4},{xtype:"actioncolumn",width:50,align:"center",items:[{iconCls:"delete-plus",tooltip:"Delete",handler:function(b,f,a){var c=b.getStore(),e=c.getAt(f),d;if(e.data.name=="Joined"||e.data.name=="No Show"||e.data.name=="Offer Rejected"||e.data.name=="Offer Revoked"){Ext.toast("This value cannot be deleted as it is being used in another screen",false,"t")}else{d={ddo_jobapplicationstatus_id:e.get("ddo_jobapplicationstatus_id")};Ext.Ajax.request({url:"/jobapplicationstatus",method:"DELETE",params:d,success:function(i,g){c.removeAt(f);c.reload();Ext.getBody().unmask();var h=Ext.decode(i.responseText);Ext.toast(h.message,false,"t")},failure:function(i,g){Ext.getBody().unmask();var h=Ext.decode(i.responseText);Ext.toast(h.message,false,"t")}})}}}]}],listeners:{rowdblclick:"onGridRowClick"}});Ext.define("TalentAcquisition.view.jobapplicationstatus.JobApplicationStatusController",{extend:"Ext.app.ViewController",alias:"controller.jobapplicationstatuscontroller",requires:["TalentAcquisition.overrides.window.Toast"],onGridRowClick:function(h,d,c,i,f,g){var j=this.getView(),a=j.down("form").getForm();a.setValues(d.data);var b=this.getView().down("collapsiblecontainer").down("[name=eastpanel]");if(!Ext.isEmpty(b)){b.toggleCollapse()}},onWindowOutsideTap:function(){},eastContainerCollapse:function(){var a=this.getView(),b=a.down("collapsiblecontainer").down("[name=eastpanel]");a.down("form").reset();if(!Ext.isEmpty(b)){b.toggleCollapse()}},onFormSaveClick:function(){var c=this.getView(),h=c.down("form"),e=h.getValues(),g=c.down("grid"),d=g.getStore(),b;e.name=e.name.trim();if(!Ext.isEmpty(d)){if(Ext.isEmpty(e.ddo_jobapplicationstatus_id)){for(var f=0;f<d.data.length;f++){if(d.data.items[f].data.name.toUpperCase()===e.name.toUpperCase()){Ext.toast("record already exits",false,"t");var a=true;break}}if(!a){params={name:e.name,description:e.description,ddo_jobapplicationstatus_id:e.ddo_jobapplicationstatus_id};h.reset();Ext.Ajax.request({url:"/jobapplicationstatus",method:Ext.isEmpty(e.ddo_jobapplicationstatus_id)?"POST":"PUT",params:params,success:function(k,i){g.getStore().reload();Ext.getBody().unmask();var j=Ext.decode(k.responseText);Ext.toast(j.message,false,"t")},failure:function(k,i){Ext.getBody().unmask();var j=Ext.decode(k.responseText);Ext.toast(j.message,false,"t")}})}}else{if(!Ext.isEmpty(e.ddo_jobapplicationstatus_id)){params={name:e.name,description:e.description,ddo_jobapplicationstatus_id:e.ddo_jobapplicationstatus_id};h.reset();Ext.Ajax.request({url:"/jobapplicationstatus",method:Ext.isEmpty(e.ddo_jobapplicationstatus_id)?"POST":"PUT",params:params,success:function(k,i){g.getStore().reload();Ext.getBody().unmask();var j=Ext.decode(k.responseText);Ext.toast(j.message,false,"t")},failure:function(k,i){Ext.getBody().unmask();var j=Ext.decode(k.responseText);Ext.toast(j.message,false,"t")}})}}}}});Ext.define("TalentAcquisition.view.jobapplicationstatus.JobApplicationStatusViewModel",{extend:"Ext.app.ViewModel",alias:"viewmodel.jobapplicationstatusviewmodel"});Ext.define("TalentAcquisition.view.jobapplicationstatus.JobApplicationStatus",{extend:"Ext.container.Container",alias:"widget.jobapplicationstatusview",requires:["TalentAcquisition.view.jobapplicationstatus.JobApplicationStatusForm","TalentAcquisition.ux.container.CollapsibleContainer","TalentAcquisition.view.jobapplicationstatus.JobApplicationStatusGrid","TalentAcquisition.view.jobapplicationstatus.JobApplicationStatusController","TalentAcquisition.view.jobapplicationstatus.JobApplicationStatusViewModel","TalentAcquisition.store.jobapplicationstatus.JobApplicationStatusStore"],controller:"jobapplicationstatuscontroller",viewModel:{type:"jobapplicationstatusviewmodel"},items:[{xtype:"collapsiblecontainer",mainContainerTitle:"Application Status",grid:"jobapplicationstatusgrid",gridStore:Ext.create("TalentAcquisition.store.jobapplicationstatus.JobApplicationStatusStore"),form:"jobapplicationstatusform",fbButtonRequired:true}],listeners:{activate:function(d,c,a,b){this.down("jobapplicationstatusgrid").getStore().load()}}});Ext.define("TalentAcquisition.view.jobeducation.JobEducationForm",{extend:"Ext.form.Panel",requires:[],alias:"widget.jobeducationform",initComponent:function(){this.callParent(arguments)},items:[{xtype:"form",bbar:{layout:{type:"hbox"},padding:"25 0 21 0",cls:"appwindow-cls",items:[{xtype:"button",text:"Cancel",cls:"app-window-cancel-btn",handler:"eastContainerCollapse"},{xtype:"button",text:"Save",cls:"app-window-save-btn",formBind:true,handler:"eastContainerCollapse",listeners:{click:"onFormSaveClick"}}]},items:[{xtype:"hiddenfield",name:"ddo_jobeducation_id"},{xtype:"textfield",allowBlank:false,name:"name",emptyText:"Name",msgTarget:"side",required:true,cls:"rule-name-cls"},{xtype:"textfield",name:"description",emptyText:"Description",cls:"rule-name-cls"}]}]});Ext.define("TalentAcquisition.view.jobeducation.JobEducationGrid",{extend:"Ext.grid.Panel",alias:"widget.jobeducationgrid",cls:"karmalist-cls",viewConfig:{loadMask:false},requires:["TalentAcquisition.store.jobeducation.JobEducationStore"],height:500,width:"100%",margin:"0 0 0 10",padding:"0px 10px 0px 0px",columns:[{text:"Name",dataIndex:"name",flex:0.3,height:42,filter:{type:"string",itemDefaults:{emptyText:"Search..."}}},{text:"Description",dataIndex:"description",flex:0.4},{xtype:"actioncolumn",width:50,align:"center",items:[{iconCls:"delete-plus",tooltip:"Delete",handler:function(b,f,a){var c=b.getStore(),e=c.getAt(f),d;d={ddo_jobeducation_id:e.get("ddo_jobeducation_id")};Ext.Ajax.request({url:"/jobeducation",method:"DELETE",params:d,success:function(i,g){c.removeAt(f);c.reload();Ext.getBody().unmask();var h=Ext.decode(i.responseText);Ext.toast(h.message,false,"t")},failure:function(i,g){Ext.getBody().unmask();var h=Ext.decode(i.responseText);Ext.toast(h.message,false,"t")}})}}]}],listeners:{rowdblclick:"onGridRowClick"}});Ext.define("TalentAcquisition.view.jobeducation.JobEducationController",{extend:"Ext.app.ViewController",alias:"controller.jobeducationcontroller",requires:["TalentAcquisition.overrides.window.Toast"],onGridRowClick:function(h,d,c,i,f,g){var j=this.getView(),a=j.down("form").getForm();a.setValues(d.data);var b=this.getView().down("collapsiblecontainer").down("[name=eastpanel]");if(!Ext.isEmpty(b)){b.toggleCollapse()}},onWindowOutsideTap:function(){},eastContainerCollapse:function(){var a=this.getView(),b=a.down("collapsiblecontainer").down("[name=eastpanel]");a.down("form").reset();if(!Ext.isEmpty(b)){b.toggleCollapse()}},onFormSaveClick:function(){var b=this.getView(),g=b.down("form"),d=g.getValues(),f=b.down("grid"),c=f.getStore(),a;d.name=d.name.trim();if(!Ext.isEmpty(c)){if(Ext.isEmpty(d.ddo_jobeducation_id)){for(var e=0;e<c.data.length;e++){if(c.data.items[e].data.name.toUpperCase()===d.name.toUpperCase()){Ext.toast("record already exits",false,"t");break}else{params={name:d.name,description:d.description,ddo_jobeducation_id:d.ddo_jobeducation_id};g.reset();Ext.Ajax.request({url:"/jobeducation",method:Ext.isEmpty(d.ddo_jobeducation_id)?"POST":"PUT",params:params,success:function(j,h){f.getStore().reload();Ext.getBody().unmask();var i=Ext.decode(j.responseText);Ext.toast(i.message,false,"t")},failure:function(j,h){Ext.getBody().unmask();var i=Ext.decode(j.responseText);Ext.toast(i.message,false,"t")}});break}}}else{if(!Ext.isEmpty(d.ddo_jobeducation_id)){params={name:d.name,description:d.description,ddo_jobeducation_id:d.ddo_jobeducation_id};g.reset();Ext.Ajax.request({url:"/jobeducation",method:Ext.isEmpty(d.ddo_jobeducation_id)?"POST":"PUT",params:params,success:function(j,h){f.getStore().reload();Ext.getBody().unmask();var i=Ext.decode(j.responseText);Ext.toast(i.message,false,"t")},failure:function(j,h){Ext.getBody().unmask();var i=Ext.decode(j.responseText);Ext.toast(i.message,false,"t")}})}}}}});Ext.define("TalentAcquisition.view.jobeducation.JobEducationViewModel",{extend:"Ext.app.ViewModel",alias:"viewmodel.jobeducationviewmodel"});Ext.define("TalentAcquisition.view.jobeducation.JobEducation",{extend:"Ext.container.Container",alias:"widget.jobeducationview",requires:["TalentAcquisition.view.jobeducation.JobEducationForm","TalentAcquisition.ux.container.CollapsibleContainer","TalentAcquisition.view.jobeducation.JobEducationGrid","TalentAcquisition.view.jobeducation.JobEducationController","TalentAcquisition.view.jobeducation.JobEducationViewModel","TalentAcquisition.store.jobeducation.JobEducationStore"],controller:"jobeducationcontroller",viewModel:{type:"jobeducationviewmodel"},items:[{xtype:"collapsiblecontainer",mainContainerTitle:"Job Education",grid:"jobeducationgrid",gridStore:Ext.create("TalentAcquisition.store.jobeducation.JobEducationStore"),form:"jobeducationform",fbButtonRequired:true}],listeners:{activate:function(d,c,a,b){this.down("jobeducationgrid").getStore().load()}}});Ext.define("TalentAcquisition.view.jobinterviewrating.JobInterviewRatingForm",{extend:"Ext.form.Panel",requires:[],alias:"widget.jobinterviewratingform",initComponent:function(){this.callParent(arguments)},items:[{xtype:"form",bbar:{layout:{type:"hbox"},padding:"25 0 21 0",cls:"appwindow-cls",items:[{xtype:"button",text:"Cancel",cls:"app-window-cancel-btn",handler:"eastContainerCollapse"},{xtype:"button",text:"Save",cls:"app-window-save-btn",formBind:true,handler:"eastContainerCollapse",listeners:{click:"onFormSaveClick"}}]},items:[{xtype:"hiddenfield",name:"ddo_jobinterviewrating_id"},{xtype:"textfield",allowBlank:false,name:"name",emptyText:"Name",msgTarget:"side",required:true,cls:"rule-name-cls"},{xtype:"textfield",name:"description",emptyText:"Description",cls:"rule-name-cls"}]}]});Ext.define("TalentAcquisition.view.jobinterviewrating.JobInterviewRatingGrid",{extend:"Ext.grid.Panel",alias:"widget.jobinterviewratinggrid",cls:"karmalist-cls",viewConfig:{loadMask:false},height:500,width:"100%",margin:"0 0 0 10",padding:"0px 10px 0px 0px",columns:[{text:"Name",dataIndex:"name",flex:0.3,height:42,filter:{type:"string",itemDefaults:{emptyText:"Search..."}}},{text:"Description",dataIndex:"description",flex:0.4},{xtype:"actioncolumn",width:50,align:"center",items:[{iconCls:"delete-plus",tooltip:"Delete",handler:function(b,f,a){var c=b.getStore(),e=c.getAt(f),d;d={ddo_jobinterviewrating_id:e.get("ddo_jobinterviewrating_id")};Ext.Ajax.request({url:"/jobinterviewrating",method:"DELETE",params:d,success:function(i,g){c.removeAt(f);c.reload();Ext.getBody().unmask();var h=Ext.decode(i.responseText);Ext.toast(h.message,false,"t")},failure:function(h,g){Ext.getBody().unmask()}})}}]}],listeners:{rowdblclick:"onGridRowClick"}});Ext.define("TalentAcquisition.view.jobinterviewrating.JobInterviewRatingController",{extend:"Ext.app.ViewController",alias:"controller.jobinterviewratingcontroller",requires:["TalentAcquisition.overrides.window.Toast"],onGridRowClick:function(h,d,c,i,f,g){var j=this.getView(),a=j.down("form").getForm();a.setValues(d.data);var b=this.getView().down("collapsiblecontainer").down("[name=eastpanel]");if(!Ext.isEmpty(b)){b.toggleCollapse()}},onWindowOutsideTap:function(){},eastContainerCollapse:function(){var a=this.getView(),b=a.down("collapsiblecontainer").down("[name=eastpanel]");a.down("form").reset();if(!Ext.isEmpty(b)){b.toggleCollapse()}},onFormSaveClick:function(){var c=this.getView(),h=c.down("form"),e=h.getValues(),g=c.down("grid"),d=g.getStore(),b;e.name=e.name.trim();if(!Ext.isEmpty(d)){if(Ext.isEmpty(e.ddo_jobinterviewrating_id)){for(var f=0;f<d.data.length;f++){if(d.data.items[f].data.name.toUpperCase()===e.name.toUpperCase()){Ext.toast("record already exits",false,"t");var a=true;break}}if(!a){params={name:e.name,description:e.description,ddo_jobinterviewrating_id:e.ddo_jobinterviewrating_id};h.reset();Ext.Ajax.request({url:"/jobinterviewrating",method:Ext.isEmpty(e.ddo_jobinterviewrating_id)?"POST":"PUT",params:params,success:function(k,i){var j=Ext.decode(k.responseText);g.getStore().reload();Ext.getBody().unmask();Ext.toast(j.message,false,"t")},failure:function(k,i){var j=Ext.decode(k.responseText);Ext.getBody().unmask();Ext.toast(j.message,false,"t")}})}}else{if(!Ext.isEmpty(e.ddo_jobinterviewrating_id)){params={name:e.name,description:e.description,ddo_jobinterviewrating_id:e.ddo_jobinterviewrating_id};h.reset();Ext.Ajax.request({url:"/jobinterviewrating",method:Ext.isEmpty(e.ddo_jobinterviewrating_id)?"POST":"PUT",params:params,success:function(k,i){var j=Ext.decode(k.responseText);g.getStore().reload();Ext.getBody().unmask();Ext.toast(j.message,false,"t")},failure:function(k,i){var j=Ext.decode(k.responseText);Ext.getBody().unmask();Ext.toast(j.message,false,"t")}})}}}}});Ext.define("TalentAcquisition.view.jobinterviewrating.JobInterviewRatingViewModel",{extend:"Ext.app.ViewModel",alias:"viewmodel.jobinterviewratingviewmodel"});Ext.define("TalentAcquisition.view.jobinterviewrating.JobInterviewRating",{extend:"Ext.container.Container",alias:"widget.jobinterviewratingview",requires:["TalentAcquisition.view.jobinterviewrating.JobInterviewRatingForm","TalentAcquisition.ux.container.CollapsibleContainer","TalentAcquisition.view.jobinterviewrating.JobInterviewRatingGrid","TalentAcquisition.view.jobinterviewrating.JobInterviewRatingController","TalentAcquisition.view.jobinterviewrating.JobInterviewRatingViewModel","TalentAcquisition.store.jobinterviewrating.JobInterviewRatingStore"],controller:"jobinterviewratingcontroller",viewModel:{type:"jobinterviewratingviewmodel"},items:[{xtype:"collapsiblecontainer",mainContainerTitle:"Interview Rating",grid:"jobinterviewratinggrid",gridStore:Ext.create("TalentAcquisition.store.jobinterviewrating.JobInterviewRatingStore"),form:"jobinterviewratingform",fbButtonRequired:true}],listeners:{activate:function(d,c,a,b){this.down("jobinterviewratinggrid").getStore().load()}}});Ext.define("TalentAcquisition.view.jobinterviewstatus.JobInterviewStatusForm",{extend:"Ext.form.Panel",requires:[],alias:"widget.jobinterviewstatusform",initComponent:function(){this.callParent(arguments)},items:[{xtype:"form",bbar:{layout:{type:"hbox"},padding:"25 0 21 0",cls:"appwindow-cls",items:[{xtype:"button",text:"Cancel",cls:"app-window-cancel-btn",handler:"eastContainerCollapse"},{xtype:"button",text:"Save",cls:"app-window-save-btn",formBind:true,handler:"eastContainerCollapse",listeners:{click:"onFormSaveClick"}}]},items:[{xtype:"hiddenfield",name:"ddo_jobinterviewstatus_id"},{xtype:"textfield",allowBlank:false,name:"name",emptyText:"Name",msgTarget:"side",required:true,cls:"rule-name-cls"},{xtype:"textfield",name:"description",emptyText:"Description",cls:"rule-name-cls"}]}]});Ext.define("TalentAcquisition.view.jobinterviewstatus.JobInterviewStatusGrid",{extend:"Ext.grid.Panel",alias:"widget.jobinterviewstatusgrid",cls:"karmalist-cls",viewConfig:{loadMask:false},height:500,width:"100%",margin:"0 0 0 10",padding:"0px 10px 0px 0px",columns:[{text:"Name",dataIndex:"name",flex:0.3,height:42,filter:{type:"string",itemDefaults:{emptyText:"Search..."}}},{text:"Description",dataIndex:"description",flex:0.4},{xtype:"actioncolumn",width:50,align:"center",items:[{iconCls:"delete-plus",tooltip:"Delete",handler:function(b,f,a){var c=b.getStore(),e=c.getAt(f),d;d={ddo_jobinterviewstatus_id:e.get("ddo_jobinterviewstatus_id")};Ext.Ajax.request({url:"/jobinterviewstatus",method:"DELETE",params:d,success:function(i,g){c.removeAt(f);c.reload();Ext.getBody().unmask();var h=Ext.decode(i.responseText);Ext.toast(h.message,false,"t")},failure:function(h,g){Ext.getBody().unmask()}})}}]}],listeners:{rowdblclick:"onGridRowClick"}});Ext.define("TalentAcquisition.view.jobinterviewstatus.JobInterviewStatusController",{extend:"Ext.app.ViewController",alias:"controller.jobinterviewstatuscontroller",requires:["TalentAcquisition.overrides.window.Toast"],onGridRowClick:function(h,d,c,i,f,g){var j=this.getView(),a=j.down("form").getForm();a.setValues(d.data);var b=this.getView().down("collapsiblecontainer").down("[name=eastpanel]");if(!Ext.isEmpty(b)){b.toggleCollapse()}},onWindowOutsideTap:function(){},eastContainerCollapse:function(){var a=this.getView(),b=a.down("collapsiblecontainer").down("[name=eastpanel]");a.down("form").reset();if(!Ext.isEmpty(b)){b.toggleCollapse()}},onFormSaveClick:function(){var b=this.getView(),f=b.down("form"),d=f.getValues(),e=b.down("grid"),c=e.getStore(),a;d.name=d.name.trim();if(!Ext.isEmpty(c)){a=c.findExact("name",d.name);if(a==-1){a=c.findExact("name",d.name.toUpperCase());if(a==-1){a=c.findExact("name",d.name.toLowerCase())}}if(a!=-1&&Ext.isEmpty(d.ddo_jobinterviewstatus_id)){var g=c.getAt(a);if(g.get("name").toUpperCase()==d.name.toUpperCase()){Ext.toast("record already exits",false,"t");return}}else{if(a!=-1&&!Ext.isEmpty(d.ddo_jobinterviewstatus_id)){var g=c.getAt(a);if(g.get("name").toUpperCase()==d.name.toUpperCase()&&(g.get("description")==d.description||Ext.isEmpty(d.description))){Ext.toast("record already exits",false,"t");return}}}}params={name:d.name,description:d.description,ddo_jobinterviewstatus_id:d.ddo_jobinterviewstatus_id};f.reset();Ext.Ajax.request({url:"/jobinterviewstatus",method:Ext.isEmpty(d.ddo_jobinterviewstatus_id)?"POST":"PUT",params:params,success:function(j,h){var i=Ext.decode(j.responseText);e.getStore().reload();Ext.getBody().unmask();Ext.toast(i.message,false,"t")},failure:function(j,h){var i=Ext.decode(j.responseText);Ext.getBody().unmask();Ext.toast(i.message,false,"t")}})}});Ext.define("TalentAcquisition.view.jobinterviewstatus.JobInterviewStatusViewModel",{extend:"Ext.app.ViewModel",alias:"viewmodel.jobinterviewstatusviewmodel"});Ext.define("TalentAcquisition.view.jobinterviewstatus.JobInterviewStatus",{extend:"Ext.container.Container",alias:"widget.jobinterviewstatusview",requires:["TalentAcquisition.view.jobinterviewstatus.JobInterviewStatusForm","TalentAcquisition.ux.container.CollapsibleContainer","TalentAcquisition.view.jobinterviewstatus.JobInterviewStatusGrid","TalentAcquisition.view.jobinterviewstatus.JobInterviewStatusController","TalentAcquisition.view.jobinterviewstatus.JobInterviewStatusViewModel","TalentAcquisition.store.jobinterviewstatus.JobInterviewStatusStore"],controller:"jobinterviewstatuscontroller",viewModel:{type:"jobinterviewstatusviewmodel"},items:[{xtype:"collapsiblecontainer",mainContainerTitle:"Interview Status",grid:"jobinterviewstatusgrid",gridStore:Ext.create("TalentAcquisition.store.jobinterviewstatus.JobInterviewStatusStore"),form:"jobinterviewstatusform",fbButtonRequired:true}],listeners:{activate:function(d,c,a,b){this.down("jobinterviewstatusgrid").getStore().load()}}});Ext.define("TalentAcquisition.view.joblocation.JobLocationForm",{extend:"Ext.form.Panel",requires:[],alias:"widget.joblocationform",initComponent:function(){this.callParent(arguments);var a=this.up("joblocationview").getController()},items:[{xtype:"form",bbar:{layout:{type:"hbox"},padding:"25 0 21 0",cls:"appwindow-cls",items:[{xtype:"button",text:"Cancel",cls:"app-window-cancel-btn",handler:"eastContainerCollapse"},{xtype:"button",text:"Save",cls:"app-window-save-btn",formBind:true,handler:"eastContainerCollapse",listeners:{click:"onFormSaveClick"}}]},items:[{xtype:"hiddenfield",name:"ddo_joblocation_id"},{xtype:"textfield",allowBlank:false,name:"name",emptyText:"Name",msgTarget:"side",required:true,cls:"rule-name-cls"},{xtype:"textfield",name:"description",emptyText:"Description",cls:"rule-name-cls"}]}]});Ext.define("TalentAcquisition.view.joblocation.JobLocationGrid",{extend:"Ext.grid.Panel",alias:"widget.joblocationgrid",cls:"karmalist-cls",viewConfig:{loadMask:false},requires:["TalentAcquisition.store.joblocation.JobLocationStore"],height:500,width:"100%",margin:"0 0 0 10",padding:"0px 10px 0px 0px",columns:[{text:"Name",dataIndex:"name",flex:0.3,height:42,filter:{type:"string",itemDefaults:{emptyText:"Search..."}}},{text:"Description",dataIndex:"description",flex:0.4},{xtype:"actioncolumn",width:50,align:"center",items:[{iconCls:"delete-plus",tooltip:"Delete",handler:function(b,f,a){var c=b.getStore(),e=c.getAt(f),d;d={ddo_joblocation_id:e.get("ddo_joblocation_id")};Ext.Ajax.request({url:"/joblocation",method:"DELETE",params:d,success:function(i,g){c.removeAt(f);c.reload();Ext.getBody().unmask();var h=Ext.decode(i.responseText);Ext.toast(h.message,false,"t")},failure:function(i,g){Ext.getBody().unmask();Ext.toast("Unable to delete data",false,"t");var h=Ext.decode(i.responseText);Ext.toast(h.message,false,"t")}})}}]}],listeners:{rowdblclick:"onGridRowClick"}});Ext.define("TalentAcquisition.view.joblocation.JobLocationController",{extend:"Ext.app.ViewController",alias:"controller.joblocationcontroller",requires:["TalentAcquisition.overrides.window.Toast"],onGridRowClick:function(h,d,c,i,f,g){var j=this.getView(),a=j.down("form").getForm();a.setValues(d.data);var b=this.getView().down("collapsiblecontainer").down("[name=eastpanel]");if(!Ext.isEmpty(b)){b.toggleCollapse()}},onWindowOutsideTap:function(){},eastContainerCollapse:function(){var a=this.getView(),b=a.down("collapsiblecontainer").down("[name=eastpanel]");a.down("form").reset();if(!Ext.isEmpty(b)){b.toggleCollapse()}},onFormSaveClick:function(){var c=this.getView(),h=c.down("form"),e=h.getValues(),g=c.down("grid"),d=g.getStore(),a=false,b;e.name=e.name.trim();if(!Ext.isEmpty(d)){if(Ext.isEmpty(e.ddo_joblocation_id)){for(var f=0;f<d.data.length;f++){if(d.data.items[f].data.name.toUpperCase()===e.name.toUpperCase()){Ext.toast("record already exits",false,"t");var a=true;break}}if(!a){params={name:e.name,description:e.description,ddo_joblocation_id:e.ddo_joblocation_id};h.reset();Ext.Ajax.request({url:"/joblocation",method:Ext.isEmpty(e.ddo_joblocation_id)?"POST":"PUT",params:params,success:function(k,i){var j=Ext.decode(k.responseText);g.getStore().reload();Ext.getBody().unmask();Ext.toast(j.message,false,"t")},failure:function(k,i){var j=Ext.decode(k.responseText);Ext.getBody().unmask();Ext.toast(j.message,false,"t")}})}}else{if(!Ext.isEmpty(e.ddo_joblocation_id)){params={name:e.name,description:e.description,ddo_joblocation_id:e.ddo_joblocation_id};h.reset();Ext.Ajax.request({url:"/joblocation",method:Ext.isEmpty(e.ddo_joblocation_id)?"POST":"PUT",params:params,success:function(k,i){var j=Ext.decode(k.responseText);g.getStore().reload();Ext.getBody().unmask();Ext.toast(j.message,false,"t")},failure:function(k,i){var j=Ext.decode(k.responseText);Ext.getBody().unmask();Ext.toast(j.message,false,"t")}})}}}},onGridDeleteClick:function(){var a=this.getView(),b=a.down("grid"),c=b.getStore(),e=c.getAt(rowIndex),d;d={ddo_joblocation_id:e.get("ddo_joblocation_id")};Ext.Ajax.request({url:"/joblocation",method:"DELETE",params:d,success:function(h,f){c.removeAt(rowIndex);c.reload();Ext.getBody().unmask();var g=Ext.decode(h.responseText);Ext.toast(g.message,false,"t")},failure:function(h,f){Ext.getBody().unmask();var g=Ext.decode(h.responseText);Ext.toast(g.message,false,"t")}})}});Ext.define("TalentAcquisition.view.joblocation.JobLocationViewModel",{extend:"Ext.app.ViewModel",alias:"viewmodel.joblocationviewmodel"});Ext.define("TalentAcquisition.view.joblocation.JobLocation",{extend:"Ext.container.Container",alias:"widget.joblocationview",requires:["TalentAcquisition.view.joblocation.JobLocationForm","TalentAcquisition.ux.container.CollapsibleContainer","TalentAcquisition.view.joblocation.JobLocationGrid","TalentAcquisition.view.joblocation.JobLocationController","TalentAcquisition.view.joblocation.JobLocationViewModel","TalentAcquisition.store.joblocation.JobLocationStore"],controller:"joblocationcontroller",viewModel:{type:"joblocationviewmodel"},items:[{xtype:"collapsiblecontainer",mainContainerTitle:"Job Location",grid:"joblocationgrid",gridStore:Ext.create("TalentAcquisition.store.joblocation.JobLocationStore"),form:"joblocationform",fbButtonRequired:true}],listeners:{activate:function(d,c,a,b){this.down("joblocationgrid").getStore().load()}}});Ext.define("TalentAcquisition.view.jobopenings.openings.JobOpeningsForm",{extend:"Ext.form.Panel",requires:["TalentAcquisition.store.joblocation.JobLocationStore","TalentAcquisition.store.jobeducation.JobEducationStore"],alias:"widget.jobopeningsform",defaults:{width:"100%"},padding:20,layout:{type:"vbox",align:"middle",pack:"stretch"},items:[{xtype:"container",defaults:{padding:10,cls:"rule-name-cls",labelWidth:"25%",msgTarget:"side",beforeLabelTextTpl:'<span class="ta-mandatory-field-cls">*</span>'},layout:{type:"column"},items:[{xtype:"hiddenfield",name:"ddo_jobopenings_id"},{xtype:"textfield",fieldLabel:"Job Code",allowBlank:false,columnWidth:0.5,name:"jobcode"},{xtype:"textfield",fieldLabel:"Job Name",allowBlank:false,columnWidth:0.5,name:"name"}]},{xtype:"fieldset",title:"Job Description",items:[{xtype:"container",defaults:{msgTarget:"side",beforeLabelTextTpl:'<span class="ta-mandatory-field-cls">*</span>',labelWidth:"25%",padding:10,cls:"ta-search-field",columnWidth:0.5},layout:{type:"column"},items:[{xtype:"combobox",allowBlank:false,name:"ddo_department_id",fieldLabel:"Department",store:{type:"departmentstore",autoLoad:"true"},displayField:"name",valueField:"ddo_department_id",typeAhead:true,typeAheadDelay:50,queryMode:"local",forceSelection:true,listeners:{beforequery:function(a){delete a.combo.lastQuery}}},{xtype:"combobox",allowBlank:false,name:"ddo_joblocation_id",fieldLabel:"Location",store:{type:"joblocationstore",autoLoad:"true"},displayField:"name",valueField:"ddo_joblocation_id",typeAhead:true,typeAheadDelay:50,forceSelection:true,listeners:{beforequery:function(a){delete a.combo.lastQuery}}},{xtype:"combobox",allowBlank:false,name:"ddo_designation_id",fieldLabel:"Designation",store:{type:"designationstore",autoLoad:"true"},displayField:"name",valueField:"ddo_designation_id",typeAhead:true,typeAheadDelay:50,queryMode:"local",forceSelection:true,listeners:{beforequery:function(a){delete a.combo.lastQuery}}},{xtype:"combobox",allowBlank:false,name:"ddo_jobeducation_id",fieldLabel:"Qualification",store:{type:"jobeducationstore",autoLoad:"true"},displayField:"name",valueField:"ddo_jobeducation_id",typeAhead:true,typeAheadDelay:50,forceSelection:true,listeners:{beforequery:function(a){delete a.combo.lastQuery}}},{xtype:"numberfield",hideTrigger:true,minValue:0,fieldLabel:"Total Experience",maxValue:50,name:"totalexperience",allowBlank:false},{xtype:"numberfield",hideTrigger:true,maxValue:200,minValue:0,allowDecimals:false,invalidText:"Please enter valid data",allowBlank:false,fieldLabel:"Open Position",name:"openpositions"},{xtype:"datefield",fieldLabel:"Effective Date",name:"validfrom",beforeLabelTextTpl:"",allowBlank:false,value:new Date(),minValue:new Date()},{xtype:"datefield",fieldLabel:"Expiration Date",beforeLabelTextTpl:"",name:"validto",listeners:{expand:function(){var a=this.up().down("datefield[name=validfrom]").value;if(!Ext.isEmpty(a)){this.setMinValue(a)}}}},{columnWidth:0.5,xtype:"combo",fieldLabel:"Status",beforeLabelTextTpl:"",store:new Ext.data.SimpleStore({data:[[1,"Vacant"],[2,"Filled"]],id:0,fields:["value","text"]}),valueField:"text",name:"jobstatus",displayField:"text",triggerAction:"all",editable:false},{columnWidth:0.5,xtype:"combo",fieldLabel:"Billable",beforeLabelTextTpl:"",store:new Ext.data.SimpleStore({data:[["Y","YES"],["N","NO"]],fields:["value","text"]}),valueField:"value",name:"isbillable",displayField:"text",triggerAction:"all",editable:false}]}]},{xtype:"textarea",fieldLabel:"Responsibilities",cls:"rule-name-cls",beforeLabelTextTpl:'<span class="ta-mandatory-field-cls">*</span>',allowBlank:false,msgTarget:"side",labelWidth:"25%",columnWidth:0.5,name:"responsibilities"},{xtype:"textarea",fieldLabel:"Primary Skills",msgTarget:"side",beforeLabelTextTpl:'<span class="ta-mandatory-field-cls">*</span>',cls:"rule-name-cls",labelWidth:"25%",columnWidth:1,allowBlank:false,name:"primaryskills"},{xtype:"textarea",fieldLabel:"Secondary Skills",name:"secondaryskills",labelWidth:"25%",columnWidth:1,cls:"rule-name-cls"}],bbar:{padding:"25 0 21 0",cls:"appwindow-cls",items:[{xtype:"button",text:"Cancel",cls:"app-window-cancel-btn",handler:"eastContainerCollapse"},{xtype:"button",text:"Save",cls:"app-window-save-btn",formBind:true,handler:"eastContainerCollapse",listeners:{click:"onFormSaveClick"}}]}});Ext.define("TalentAcquisition.view.jobopenings.openings.JobOpeningsGrid",{extend:"Ext.grid.Panel",alias:"widget.jobopeningsgrid",cls:"karmalist-cls",viewConfig:{loadMask:false},requires:["TalentAcquisition.store.jobopenings.JobOpeningsStore"],height:500,width:"100%",margin:"0 0 0 10",padding:"0px 10px 0px 0px",columns:[{text:"Job Name",dataIndex:"name",flex:0.4,height:42,filter:{type:"string",itemDefaults:{emptyText:"Search..."}}},{text:"Department",dataIndex:"ddo_department_name",flex:0.4,hidden:true},{text:"Location",dataIndex:"ddo_joblocation_name",flex:0.4},{text:"Designation",dataIndex:"ddo_designation_name",flex:0.4},{text:"Qualification",dataIndex:"ddo_jobeducation_name",flex:0.4},{text:"Total Experience",dataIndex:"totalexperience",flex:0.4},{text:"Open Positions",dataIndex:"openpositions",flex:0.4},{text:"Responsibilities",dataIndex:"responsibilities",hidden:true,flex:0.4},{text:"Skills",dataIndex:"primaryskills",flex:0.4},{text:"Status",dataIndex:"jobstatus",flex:0.4},{xtype:"widgetcolumn",width:120,align:"center",widget:{xtype:"button",text:"Applications",tooltip:"Applications Detail",cls:"request-access-btn",handler:"onApplicationBtnClick"}},{xtype:"actioncolumn",width:50,align:"center",items:[{iconCls:"delete-plus",tooltip:"Delete",handler:function(b,f,a){var c=b.getStore(),e=c.getAt(f),d;d={ddo_jobopenings_id:e.get("ddo_jobopenings_id")};Ext.Ajax.request({url:"/jobopenings",method:"DELETE",params:d,success:function(i,g){c.removeAt(f);c.reload();Ext.getBody().unmask();var h=Ext.decode(i.responseText);Ext.toast(h.message,false,"t")},failure:function(i,g){Ext.getBody().unmask();var h=Ext.decode(i.responseText);Ext.toast(h.message,false,"t")}})}}]}],listeners:{rowdblclick:"onGridRowClick"}});Ext.define("TalentAcquisition.view.jobopenings.openings.JobOpeningsController",{extend:"Ext.app.ViewController",alias:"controller.jobopeningscontroller",requires:["TalentAcquisition.overrides.window.Toast"],onGridRowClick:function(h,d,c,i,f,g){var j=this.getView(),a=j.down("form").getForm();a.setValues(d.data);var b=this.getView().down("collapsiblecontainer").down("[name=eastpanel]");if(!Ext.isEmpty(b)){b.toggleCollapse()}},onApplicationBtnClick:function(d,h,c){var a=d.getWidgetRecord();var g=this.getView().up("jobopenings-card");var b=g.down("applicationdetailsgrid");var i=g.down("applicationdetailsview").down("collapsiblecontainer");var f=this.getView().up("jobopenings-card").down("applicationdetailsform");f.reset();b.getStore().removeAll();i.down("[name=eastpanel]").collapse();g.down("applicationdetailsview").down("[name=applicationdetailsviewcolps]").getViewModel().set("hideBtn",false);Ext.Ajax.request({url:"/jobapplication/"+a.get("ddo_jobopenings_id"),method:"GET",success:function(k,e){var j=Ext.decode(k.responseText);b.getStore().loadData(j.data)},failure:function(k,e){var j=Ext.decode(k.responseText);Ext.getBody().unmask();Ext.toast(j.message,false,"t")}});g.setActiveItem(1);i.down("button").hide();i.down("[reference=fbButton]").setHidden(true)},eastContainerCollapse:function(){var a=this.getView(),b=a.down("collapsiblecontainer").down("[name=eastpanel]");a.down("form").reset();if(!Ext.isEmpty(b)){b.toggleCollapse()}},onFormSaveClick:function(){var a=this.getView(),d=a.down("form"),b=d.getValues(),c=a.down("grid");params={name:b.name,ddo_designation_id:b.ddo_designation_id,ddo_jobopenings_id:b.ddo_jobopenings_id,ddo_jobeducation_id:b.ddo_jobeducation_id,ddo_joblocation_id:b.ddo_joblocation_id,ddo_department_id:b.ddo_department_id,jobstatus:b.jobstatus,openpositions:b.openpositions,primaryskills:b.primaryskills,responsibilities:b.responsibilities,secondaryskills:b.secondaryskills,totalexperience:b.totalexperience,validfrom:b.validfrom,validto:b.validto,jobcode:b.jobcode};Ext.isEmpty(b.ddo_jobopenings_id)?delete params.ddo_jobopenings_id:console.log("Do nothing");d.reset();Ext.Ajax.request({url:"/jobopenings",method:Ext.isEmpty(b.ddo_jobopenings_id)?"POST":"PUT",params:params,success:function(g,e){var f=Ext.decode(g.responseText);c.getStore().reload();Ext.getBody().unmask();Ext.toast(f.message,false,"t")},failure:function(g,e){var f=Ext.decode(g.responseText);Ext.getBody().unmask();Ext.toast(f.message,false,"t")}})},onGridDeleteClick:function(){var a=this.getView(),b=a.down("grid"),c=b.getStore(),e=c.getAt(rowIndex),d;d={ddo_jobopenings_id:e.get("ddo_jobopenings_id")};Ext.Ajax.request({url:"/jobopenings",method:"DELETE",params:d,success:function(h,f){c.removeAt(rowIndex);c.reload();Ext.getBody().unmask();var g=Ext.decode(h.responseText);Ext.toast(g.message,false,"t")},failure:function(h,f){Ext.getBody().unmask();var g=Ext.decode(h.responseText);Ext.toast(g.message,false,"t")}})}});Ext.define("TalentAcquisition.view.jobopenings.openings.JobOpeningsViewModel",{extend:"Ext.app.ViewModel",alias:"viewmodel.jobopeningsviewmodel"});Ext.define("TalentAcquisition.view.jobopenings.openings.JobOpenings",{extend:"Ext.container.Container",alias:"widget.jobopeningsview",requires:["TalentAcquisition.view.jobopenings.openings.JobOpeningsForm","TalentAcquisition.ux.container.CollapsibleContainer","TalentAcquisition.view.jobopenings.openings.JobOpeningsGrid","TalentAcquisition.view.jobopenings.openings.JobOpeningsController","TalentAcquisition.view.jobopenings.openings.JobOpeningsViewModel","TalentAcquisition.store.jobopenings.JobOpeningsStore"],controller:"jobopeningscontroller",viewModel:{type:"jobopeningsviewmodel"},items:[{xtype:"collapsiblecontainer",mainContainerTitle:"Job Openings",grid:"jobopeningsgrid",gridStore:Ext.create("TalentAcquisition.store.jobopenings.JobOpeningsStore"),form:"jobopeningsform",bigForm:true,filterData:[{name:"Job Name",value:"name"},{name:"Location",value:"ddo_joblocation_name"},{name:"Designation",value:"ddo_designation_name"},{name:"Skills",value:"primaryskills"},{name:"Status",value:"jobstatus"}],fbButtonRequired:true}],listeners:{activate:function(d,c,a,b){this.down("jobopeningsgrid").getStore().load()}}});Ext.define("TalentAcquisition.view.jobopenings.applicationdetails.ApplicationDetailsForm",{extend:"Ext.form.Panel",requires:[],padding:20,alias:"widget.applicationdetailsform",defaults:{width:"100%"},scrollable:true,layout:{type:"vbox",align:"middle",pack:"stretch"},items:[{xtype:"container",defaults:{width:"50%",padding:10,editable:false,msgTarget:"side",labelWidth:"25%",cls:"rule-name-cls"},layout:{type:"hbox",pack:"start",align:"stretch"},items:[{xtype:"textfield",fieldLabel:"Job Opening",name:"ddo_jobopenings_name"},{xtype:"hiddenfield",reference:"cvpath",name:"curriculumvitae"},{xtype:"button",scale:"small",width:120,text:"Download CV",cls:"request-access-btn view-cv-btn-cls",margin:"0 0 0 50",listeners:{click:"onViewCVBtnClick"}}]},{xtype:"fieldset",title:"Candidate Details",items:[{xtype:"container",defaults:{width:"50%",labelWidth:"25%",padding:10,editable:false,cls:"ta-search-field",msgTarget:"side"},layout:{type:"hbox",pack:"start",align:"stretch","float":"left"},items:[{xtype:"textfield",fieldLabel:"First Name",name:"firstname"},{fieldLabel:"Middle Name",xtype:"textfield",name:"middlename"}]},{xtype:"container",defaults:{width:"50%",padding:10,editable:false,labelWidth:"25%",cls:"ta-search-field",msgTarget:"side"},layout:{type:"hbox",pack:"start",align:"stretch"},items:[{fieldLabel:"Last Name",xtype:"textfield",name:"lastname"},{xtype:"textfield",fieldLabel:"Father's name",name:"fathersname"}]},{xtype:"container",defaults:{width:"50%",padding:10,editable:false,labelWidth:"25%",cls:"ta-search-field",msgTarget:"side"},layout:{type:"hbox",pack:"start",align:"stretch"},items:[{xtype:"textfield",fieldLabel:"Highest Education",name:"ddo_jobeducation_name"},{xtype:"datefield",fieldLabel:"Year of Passing",name:"yearofpassing",readOnly:true,hideTrigger:true}]},{xtype:"container",defaults:{width:"49%",padding:10,editable:false,labelWidth:"25%",cls:"ta-search-field",msgTarget:"side"},layout:{type:"hbox",pack:"start",align:"stretch"},items:[{xtype:"textfield",fieldLabel:"Skill Type",name:"skilltype"}]}]},{xtype:"fieldset",title:"Communication Details",items:[{xtype:"container",defaults:{width:"50%",labelWidth:"25%",padding:10,editable:false,cls:"ta-search-field",msgTarget:"side"},layout:{type:"hbox",pack:"start",align:"stretch","float":"left"},items:[{xtype:"textfield",fieldLabel:" Mobile Number",name:"mobilenumber",hideTrigger:true},{fieldLabel:"Email",xtype:"textfield",name:"email",vtype:"email"}]},{xtype:"container",defaults:{width:"100%",padding:10,labelWidth:"25%",editable:false,cls:"ta-search-field",msgTarget:"side"},layout:{type:"hbox",pack:"start",align:"stretch"},items:[{fieldLabel:"Address :",xtype:"textarea",name:"address"}]}]},{xtype:"fieldset",title:"Other Details",items:[{xtype:"container",defaults:{width:"50%",padding:10,labelWidth:"25%",editable:false,cls:"ta-search-field",msgTarget:"side"},layout:{type:"hbox",pack:"start",align:"stretch","float":"left"},items:[{xtype:"textfield",fieldLabel:"Current City",name:"currentcity"},{xtype:"textfield",fieldLabel:"Current Employment Status",name:"currentemploymentstatus"}]},{xtype:"container",defaults:{width:"50%",padding:10,labelWidth:"25%",editable:false,cls:"ta-search-field",msgTarget:"side"},layout:{type:"hbox",pack:"start",align:"stretch"},items:[{fieldLabel:"Previous Company",xtype:"textfield",name:"previouscompany"},{xtype:"textfield",fieldLabel:"Total Experience (Years)",name:"totalexperience",hideTrigger:true}]},{xtype:"container",defaults:{width:"50%",padding:10,labelWidth:"25%",editable:false,cls:"ta-search-field",msgTarget:"side"},layout:{type:"hbox",pack:"start",align:"stretch"},items:[{fieldLabel:"ID. Proof",xtype:"textfield",name:"idproof"},{xtype:"textfield",fieldLabel:"ID. Proff Number",name:"idproofnumber",hideTrigger:true}]},{xtype:"container",defaults:{width:"50%",padding:10,labelWidth:"25%",editable:false,cls:"ta-search-field",msgTarget:"side"},layout:{type:"hbox",pack:"start",align:"stretch"},items:[{fieldLabel:"Availabel From",xtype:"datefield",name:"availablefrom",readOnly:true,hideTrigger:true},{fieldLabel:"Applied On",xtype:"datefield",name:"appliedon",readOnly:true,hideTrigger:true}]},{xtype:"container",defaults:{width:"49%",padding:10,labelWidth:"25%",editable:false,cls:"ta-search-field",msgTarget:"side"},layout:{type:"hbox",pack:"start",align:"stretch"},items:[{fieldLabel:"Notice Period (Days)",xtype:"textfield",name:"noticeperiodindays",hideTrigger:true}]}]},{xtype:"fieldset",title:"Hiring Details",items:[{xtype:"container",defaults:{width:"50%",padding:10,editable:false,labelWidth:"25%",cls:"ta-search-field",msgTarget:"side"},layout:{type:"hbox",pack:"start",align:"stretch","float":"left"},items:[{xtype:"textfield",fieldLabel:"Recruiter",name:"recruitedby"},{xtype:"textfield",fieldLabel:"Status",name:"ddo_jobapplicationstatus_name"}]},{xtype:"container",defaults:{width:"49%",padding:10,editable:false,labelWidth:"25%",cls:"ta-search-field",msgTarget:"side"},layout:{type:"hbox",pack:"start",align:"stretch"},items:[{xtype:"textfield",fieldLabel:"Hiring Source",name:"ddo_jobsource_name"}]},{xtype:"container",defaults:{width:"50%",padding:10,editable:false,labelWidth:"25%",cls:"ta-search-field",msgTarget:"side"},layout:{type:"vbox",pack:"start",align:"stretch"},items:[{xtype:"combobox",fieldLabel:"Referred By",name:"referredby",hidden:true,displayField:"referredby",valueField:"referredby"},{xtype:"combobox",fieldLabel:"Vendor Name :",name:"vendorname",hidden:true,displayField:"vendorname",valueField:"vendorname"},{xtype:"combobox",fieldLabel:"Job Portal Name :",name:"jobportalname",hidden:true,displayField:"jobportalname",valueField:"jobportalname"},{xtype:"textarea",fieldLabel:"Comments:",name:"comments"}]}]}]});Ext.define("TalentAcquisition.view.jobopenings.applicationdetails.ApplicationDetailsController",{extend:"Ext.app.ViewController",alias:"controller.applicationdetailscontroller",requires:["TalentAcquisition.overrides.window.Toast"],onGridRowClick:function(i,d,c,j,f,g){var k=this.getView(),h=k.down("collapsiblecontainer"),b=h.down("[name=eastpanel]"),a=k.down("form").getForm();a.reset();a.setValues(d.data);h.setFbButtonHide(false);if(!Ext.isEmpty(b)){b.toggleCollapse()}},eastContainerCollapse:function(){var a=this.getView(),b=a.down("collapsiblecontainer").down("[name=eastpanel]");a.down("form").reset();if(!Ext.isEmpty(b)){b.toggleCollapse()}},onBackButtonClick:function(){this.getView().up("jobopenings-card").setActiveItem(0)},onViewCVBtnClick:function(d){var e=this,a=e.getView(),c=a.lookupReference("cvpath").getValue(),b=window.location.origin+"/"+c;if(Ext.isEmpty(c)){Ext.toast("CV does not exits",false,"t")}else{window.open(b)}}});Ext.define("TalentAcquisition.view.jobopenings.applicationdetails.ApplicationDetailsGrid",{extend:"Ext.grid.Panel",requires:["TalentAcquisition.store.jobopenings.ApplicationDetailsStore","TalentAcquisition.view.jobopenings.applicationdetails.ApplicationDetailsController"],alias:"widget.applicationdetailsgrid",cls:"karmalist-cls",viewConfig:{loadMask:false},height:500,width:"100%",margin:"0 0 0 10",padding:"0px 10px 0px 0px",columns:[{text:"Application No.",dataIndex:"ddo_jobapplications_id",flex:0.4,hidden:true,height:42},{text:"Job Opening",dataIndex:"ddo_jobopenings_name",flex:0.4},{text:"Candidate Name",dataIndex:"firstname",flex:0.4,renderer:function(d,a,b){var c=b.data;return c.firstname+" "+c.lastname}},{text:"Status",dataIndex:"ddo_jobapplicationstatus_name",flex:0.4},{text:"Address",dataIndex:"address",hidden:true,flex:0.4},{text:"Mobile Number",dataIndex:"mobilenumber",flex:0.4},{text:"Education",dataIndex:"ddo_jobeducation_name",flex:0.4},{text:"Email",dataIndex:"email",flex:0.4}],listeners:{rowdblclick:"onGridRowClick"}});Ext.define("TalentAcquisition.view.jobopenings.applicationdetails.ApplicationDetails",{extend:"Ext.container.Container",alias:"widget.applicationdetailsview",requires:["TalentAcquisition.view.jobopenings.applicationdetails.ApplicationDetailsForm","TalentAcquisition.ux.container.CollapsibleContainer","TalentAcquisition.view.jobopenings.applicationdetails.ApplicationDetailsGrid","TalentAcquisition.view.jobopenings.applicationdetails.ApplicationDetailsController","TalentAcquisition.store.jobopenings.ApplicationDetailsStore"],controller:"applicationdetailscontroller",items:[{xtype:"collapsiblecontainer",name:"applicationdetailsviewcolps",mainContainerTitle:"Application Details",grid:"applicationdetailsgrid",gridStore:Ext.create("TalentAcquisition.store.jobopenings.ApplicationDetailsStore"),form:"applicationdetailsform",bigForm:true,filterData:[{name:"status",value:"ddo_jobapplicationstatus_name"}],fbButtonRequired:false}],listeners:{activate:function(d,c,a,b){this.down("applicationdetailsgrid").getStore().load();this.down("applicationdetailsgrid").getStore().sort({property:"ddo_jobapplications_id",direction:"DESC"})}}});Ext.define("TalentAcquisition.view.jobopenings.JobOpeningsCard",{extend:"Ext.container.Container",requires:["TalentAcquisition.view.jobopenings.openings.JobOpenings","TalentAcquisition.view.jobopenings.applicationdetails.ApplicationDetails"],alias:"widget.jobopenings-card",layout:{type:"card",activeItem:0},initComponent:function(){var a=this;Ext.apply(a,{items:[{xtype:"jobopeningsview"},{xtype:"applicationdetailsview"}]});a.callParent(arguments)},listeners:{activate:function(d,c,a,b){this.down("[name=filterColumn]").reset()}}});Ext.define("TalentAcquisition.view.jobopenings.JobOpeningsMain",{extend:"Ext.container.Container",alias:"widget.jobopenings-main",requires:["TalentAcquisition.view.jobopenings.openings.JobOpenings","TalentAcquisition.view.jobopenings.applicationdetails.ApplicationDetails"],layout:{type:"fit"},requires:[],viewModel:{},items:[{xtype:"tabpanel",cls:"goalstab-cls",items:[{xtype:"jobopeningsview",title:"Job Openings"},{title:"Application Details",xtype:"applicationdetailsview"}]}]});Ext.define("TalentAcquisition.view.jobsource.JobSourceForm",{extend:"Ext.form.Panel",requires:[],alias:"widget.jobsourceform",initComponent:function(){this.callParent(arguments);var a=this.up("jobsourceview").getController()},items:[{xtype:"form",bbar:{layout:{type:"hbox"},cls:"appwindow-cls",padding:"25 0 21 0",items:[{xtype:"button",text:"Cancel",cls:"app-window-cancel-btn",handler:"eastContainerCollapse"},{xtype:"button",text:"Save",cls:"app-window-save-btn",formBind:true,handler:"eastContainerCollapse",listeners:{click:"onFormSaveClick"}}]},items:[{xtype:"hiddenfield",name:"ddo_jobsource_id"},{xtype:"textfield",allowBlank:false,name:"name",emptyText:"Name",msgTarget:"side",required:true,editable:true,cls:"rule-name-cls",listeners:{focus:function(a){if(a.value!=null||""){if(a.value=="Job Portal"||a.value=="Consultancy"||a.value=="Referred by employee"){this.setEditable(false);Ext.toast("This value cannot be changed as it is being used in another screen",false,"t")}else{this.setEditable(true)}}}}},{xtype:"textfield",name:"description",emptyText:"Description",cls:"rule-name-cls"}]}]});Ext.define("TalentAcquisition.view.jobsource.JobSourceGrid",{extend:"Ext.grid.Panel",alias:"widget.jobsourcegrid",cls:"karmalist-cls",viewConfig:{loadMask:false},requires:["TalentAcquisition.store.jobsource.JobSourceStore"],height:500,width:"100%",margin:"0 0 0 10",padding:"0px 10px 0px 0px",columns:[{text:"Name",dataIndex:"name",flex:0.3,height:42,filter:{type:"string",itemDefaults:{emptyText:"Search..."}}},{text:"Description",dataIndex:"description",flex:0.4},{xtype:"actioncolumn",width:50,align:"center",items:[{iconCls:"delete-plus",tooltip:"Delete",handler:function(b,f,a){var c=b.getStore(),e=c.getAt(f),d;if(e.data.name=="Job Portal"||e.data.name=="Consultancy"||e.data.name=="Referred by employee"){Ext.toast("This value cannot be deleted as it is being used in another screen",false,"t")}else{d={ddo_jobsource_id:e.get("ddo_jobsource_id")};Ext.Ajax.request({url:"/jobsource",method:"DELETE",params:d,success:function(i,g){c.removeAt(f);c.reload();Ext.getBody().unmask();var h=Ext.decode(i.responseText);Ext.toast(h.message,false,"t")},failure:function(i,g){Ext.getBody().unmask();Ext.toast("Unable to delete data",false,"t");var h=Ext.decode(i.responseText);Ext.toast(h.message,false,"t")}})}}}]}],listeners:{rowdblclick:"onGridRowClick"}});Ext.define("TalentAcquisition.view.jobsource.JobSourceController",{extend:"Ext.app.ViewController",alias:"controller.jobsourcecontroller",requires:["TalentAcquisition.overrides.window.Toast"],onGridRowClick:function(h,d,c,i,f,g){var j=this.getView(),a=j.down("form").getForm();a.setValues(d.data);var b=this.getView().down("collapsiblecontainer").down("[name=eastpanel]");if(!Ext.isEmpty(b)){b.toggleCollapse();b.down("textfield").focus()}},onWindowOutsideTap:function(){},eastContainerCollapse:function(){var a=this.getView(),b=a.down("collapsiblecontainer").down("[name=eastpanel]");a.down("form").reset();if(!Ext.isEmpty(b)){b.toggleCollapse()}},onFormSaveClick:function(){var c=this.getView(),h=c.down("form"),e=h.getValues(),g=c.down("grid"),d=g.getStore(),b;e.name=e.name.trim();if(!Ext.isEmpty(d)){if(Ext.isEmpty(e.ddo_jobsource_id)){for(var f=0;f<d.data.length;f++){if(d.data.items[f].data.name.toUpperCase()===e.name.toUpperCase()){Ext.toast("record already exits",false,"t");var a=true;break}}if(!a){params={name:e.name,description:e.description,ddo_jobsource_id:e.ddo_jobsource_id};h.reset();Ext.Ajax.request({url:"/jobsource",method:Ext.isEmpty(e.ddo_jobsource_id)?"POST":"PUT",params:params,success:function(k,i){var j=Ext.decode(k.responseText);g.getStore().reload();Ext.getBody().unmask();Ext.toast(j.message,false,"t")},failure:function(k,i){var j=Ext.decode(k.responseText);Ext.getBody().unmask();Ext.toast(j.message,false,"t")}})}}else{if(!Ext.isEmpty(e.ddo_joblocation_id)){params={name:e.name,description:e.description,ddo_jobsource_id:e.ddo_jobsource_id};h.reset();Ext.Ajax.request({url:"/jobsource",method:Ext.isEmpty(e.ddo_jobsource_id)?"POST":"PUT",params:params,success:function(k,i){var j=Ext.decode(k.responseText);g.getStore().reload();Ext.getBody().unmask();Ext.toast(j.message,false,"t")},failure:function(k,i){var j=Ext.decode(k.responseText);Ext.getBody().unmask();Ext.toast(j.message,false,"t")}})}}}},onGridDeleteClick:function(){var a=this.getView(),b=a.down("grid"),c=b.getStore(),e=c.getAt(rowIndex),d;d={ddo_jobsource_id:e.get("ddo_jobsource_id")};Ext.Ajax.request({url:"/jobsource",method:"DELETE",params:d,success:function(h,f){c.removeAt(rowIndex);c.reload();Ext.getBody().unmask();var g=Ext.decode(h.responseText);Ext.toast(g.message,false,"t")},failure:function(h,f){Ext.getBody().unmask();var g=Ext.decode(h.responseText);Ext.toast(g.message,false,"t")}})}});Ext.define("TalentAcquisition.view.jobsource.JobSourceViewModel",{extend:"Ext.app.ViewModel",alias:"viewmodel.jobsourceviewmodel"});Ext.define("TalentAcquisition.view.jobsource.JobSource",{extend:"Ext.container.Container",alias:"widget.jobsourceview",requires:["TalentAcquisition.view.jobsource.JobSourceForm","TalentAcquisition.ux.container.CollapsibleContainer","TalentAcquisition.view.jobsource.JobSourceGrid","TalentAcquisition.view.jobsource.JobSourceController","TalentAcquisition.view.jobsource.JobSourceViewModel","TalentAcquisition.store.jobsource.JobSourceStore"],controller:"jobsourcecontroller",viewModel:{type:"jobsourceviewmodel"},items:[{xtype:"collapsiblecontainer",mainContainerTitle:"Sourcing Partners",grid:"jobsourcegrid",gridStore:Ext.create("TalentAcquisition.store.jobsource.JobSourceStore"),form:"jobsourceform",fbButtonRequired:true}],listeners:{activate:function(d,c,a,b){this.down("jobsourcegrid").getStore().load();this.down("jobsourcegrid").getStore().sort({property:"ddo_jobsource_id",direction:"DESC"})}}});Ext.define("TalentAcquisition.view.jobsourcelines.JobSourceLinesForm",{extend:"Ext.form.Panel",requires:["TalentAcquisition.store.jobsourcelines.JobSourceLinesStore"],alias:"widget.jobsourcelinesform",initComponent:function(){this.callParent(arguments);var a=this.up("jobsourcelinesview").getController()},items:[{xtype:"form",bbar:{layout:{type:"hbox"},cls:"appwindow-cls",padding:"25 0 21 0",items:[{xtype:"button",text:"Cancel",cls:"app-window-cancel-btn",handler:"eastContainerCollapse"},{xtype:"button",text:"Save",cls:"app-window-save-btn",formBind:true,handler:"eastContainerCollapse",listeners:{click:"onFormSaveClick"}}]},items:[{xtype:"hiddenfield",name:"ddo_jobsourcelines_id"},{xtype:"combobox",allowBlank:false,msgTarget:"side",name:"ddo_jobsource_id",emptyText:"Job Source",cls:"rule-name-cls",reference:"jobSourceCombo",editable:false,store:{type:"jobsourcestore"},displayField:"name",valueField:"ddo_jobsource_id"},{xtype:"textfield",allowBlank:false,name:"name",emptyText:"Name",msgTarget:"side",required:true,cls:"rule-name-cls"},{xtype:"textfield",name:"description",emptyText:"Description",cls:"rule-name-cls"}]}]});Ext.define("TalentAcquisition.view.jobsourcelines.JobSourceLinesGrid",{extend:"Ext.grid.Panel",alias:"widget.jobsourcelinesgrid",cls:"karmalist-cls",viewConfig:{loadMask:false},requires:["TalentAcquisition.store.jobsourcelines.JobSourceLinesStore","TalentAcquisition.store.jobsource.JobSourceStore"],height:500,width:"100%",margin:"0 0 0 10",padding:"0px 10px 0px 0px",columns:[{text:"Source Line",dataIndex:"ddo_jobsource_name",flex:0.4},{text:"Name",dataIndex:"name",flex:0.3,height:42,filter:{type:"string",itemDefaults:{emptyText:"Search..."}}},{text:"Description",dataIndex:"description",flex:0.4},{xtype:"actioncolumn",width:50,align:"center",items:[{iconCls:"delete-plus",tooltip:"Delete",handler:function(b,f,a){var c=b.getStore(),e=c.getAt(f),d;d={ddo_jobsourcelines_id:e.get("ddo_jobsourcelines_id")};Ext.Ajax.request({url:"/jobsourceline",method:"DELETE",params:d,success:function(i,g){c.removeAt(f);c.reload();Ext.getBody().unmask();var h=Ext.decode(i.responseText);Ext.toast(h.message,false,"t")},failure:function(i,g){Ext.getBody().unmask();Ext.toast("Unable to delete data",false,"t");var h=Ext.decode(i.responseText);Ext.toast(h.message,false,"t")}})}}]}],listeners:{rowdblclick:"onGridRowClick"}});Ext.define("TalentAcquisition.view.jobsourcelines.JobSourceLinesController",{extend:"Ext.app.ViewController",alias:"controller.jobsourcelinescontroller",requires:["TalentAcquisition.overrides.window.Toast"],onGridRowClick:function(h,d,c,i,f,g){var j=this.getView(),a=j.down("form").getForm();a.setValues(d.data);var b=this.getView().down("collapsiblecontainer").down("[name=eastpanel]");if(!Ext.isEmpty(b)){b.toggleCollapse()}},onWindowOutsideTap:function(){},eastContainerCollapse:function(){var a=this.getView(),b=a.down("collapsiblecontainer").down("[name=eastpanel]");a.down("form").reset();if(!Ext.isEmpty(b)){b.toggleCollapse()}},onFormSaveClick:function(){var c=this.getView(),h=c.down("form"),e=h.getValues(),g=c.down("grid"),d=g.getStore(),b;e.name=e.name.trim();if(!Ext.isEmpty(d)){if(Ext.isEmpty(e.ddo_jobsourcelines_id)){for(var f=0;f<d.data.length;f++){if(d.data.items[f].data.name.toUpperCase()===e.name.toUpperCase()){Ext.toast("record already exits",false,"t");var a=true;break}}if(!a){params={name:e.name,description:e.description,ddo_jobsourcelines_id:e.ddo_jobsourcelines_id,ddo_jobsource_id:e.ddo_jobsource_id};h.reset();Ext.Ajax.request({url:"/jobsourceline",method:Ext.isEmpty(e.ddo_jobsourcelines_id)?"POST":"PUT",params:params,success:function(k,i){Ext.getBody().unmask();if(!Ext.isEmpty(k.responseText)){var j=Ext.decode(k.responseText)}g.getStore().reload();Ext.toast(j.message,false,"t")},failure:function(k,i){Ext.getBody().unmask();if(!Ext.isEmpty(k.responseText)){var j=Ext.decode(k.responseText)}Ext.toast(j.message,false,"t")}})}}else{if(!Ext.isEmpty(e.ddo_joblocation_id)){params={name:e.name,description:e.description,ddo_jobsourcelines_id:e.ddo_jobsourcelines_id,ddo_jobsource_id:e.ddo_jobsource_id};h.reset();Ext.Ajax.request({url:"/jobsourceline",method:Ext.isEmpty(e.ddo_jobsourcelines_id)?"POST":"PUT",params:params,success:function(k,i){Ext.getBody().unmask();if(!Ext.isEmpty(k.responseText)){var j=Ext.decode(k.responseText)}g.getStore().reload();Ext.toast(j.message,false,"t")},failure:function(k,i){Ext.getBody().unmask();if(!Ext.isEmpty(k.responseText)){var j=Ext.decode(k.responseText)}Ext.toast(j.message,false,"t")}})}}}},onGridDeleteClick:function(){var a=this.getView(),b=a.down("grid"),c=b.getStore(),e=c.getAt(rowIndex),d;d={ddo_jobsourcelines_id:e.get("ddo_jobsourcelines_id")};Ext.Ajax.request({url:"/jobsourceline",method:"DELETE",params:d,success:function(h,f){c.removeAt(rowIndex);c.reload();Ext.getBody().unmask();var g=Ext.decode(h.responseText);Ext.toast(g.message,false,"t")},failure:function(h,f){Ext.getBody().unmask();var g=Ext.decode(h.responseText);Ext.toast(g.message,false,"t")}})}});Ext.define("TalentAcquisition.view.jobsourcelines.JobSourceLinesViewModel",{extend:"Ext.app.ViewModel",alias:"viewmodel.jobsourcelinesviewmodel"});Ext.define("TalentAcquisition.view.jobsourcelines.JobSourceLines",{extend:"Ext.container.Container",alias:"widget.jobsourcelinesview",requires:["TalentAcquisition.view.jobsourcelines.JobSourceLinesForm","TalentAcquisition.ux.container.CollapsibleContainer","TalentAcquisition.view.jobsourcelines.JobSourceLinesGrid","TalentAcquisition.view.jobsourcelines.JobSourceLinesController","TalentAcquisition.view.jobsourcelines.JobSourceLinesViewModel","TalentAcquisition.store.jobsourcelines.JobSourceLinesStore"],controller:"jobsourcelinescontroller",viewModel:{type:"jobsourcelinesviewmodel"},items:[{xtype:"collapsiblecontainer",mainContainerTitle:"Profile Sources",grid:"jobsourcelinesgrid",gridStore:Ext.create("TalentAcquisition.store.jobsourcelines.JobSourceLinesStore"),form:"jobsourcelinesform",fbButtonRequired:true}],listeners:{activate:function(d,c,a,b){this.down("jobsourcelinesgrid").getStore().load();Ext.getStore("jobsourcestores").load();this.down("jobsourcelinesgrid").getStore().sort({property:"ddo_jobsourcelines_id",direction:"DESC"})}}});Ext.define("TalentAcquisition.view.jobtype.JobTypeForm",{extend:"Ext.form.Panel",requires:[],alias:"widget.jobtypeform",initComponent:function(){this.callParent(arguments);var a=this.up("jobtypeview").getController()},items:[{xtype:"form",bbar:{cls:"appwindow-cls",layout:{type:"hbox"},padding:"25 0 21 0",items:[{xtype:"button",text:"Cancel",cls:"app-window-cancel-btn",handler:"eastContainerCollapse"},{xtype:"button",text:"Save",cls:"app-window-save-btn",formBind:true,handler:"eastContainerCollapse",listeners:{click:"onFormSaveClick"}}]},items:[{xtype:"hiddenfield",name:"ddo_jobtype_id"},{xtype:"textfield",allowBlank:false,name:"name",emptyText:"Name",required:true,msgTarget:"side",cls:"rule-name-cls"},{xtype:"textfield",name:"description",emptyText:"Description",cls:"rule-name-cls"}]}]});Ext.define("TalentAcquisition.view.jobtype.JobTypeGrid",{extend:"Ext.grid.Panel",alias:"widget.jobtypegrid",cls:"karmalist-cls",viewConfig:{loadMask:false},requires:["TalentAcquisition.store.jobtype.JobTypeStore"],height:500,width:"100%",margin:"0 0 0 10",padding:"0px 10px 0px 0px",columns:[{text:"Name",dataIndex:"name",flex:0.3,height:42,filter:{type:"string",itemDefaults:{emptyText:"Search..."}}},{text:"Description",dataIndex:"description",flex:0.4},{xtype:"actioncolumn",width:50,align:"center",items:[{iconCls:"delete-plus",tooltip:"Delete",handler:function(b,f,a){var c=b.getStore(),e=c.getAt(f),d;d={ddo_jobtype_id:e.get("ddo_jobtype_id")};Ext.Ajax.request({url:"/jobtype",method:"DELETE",params:d,success:function(i,g){c.removeAt(f);c.reload();Ext.getBody().unmask();var h=Ext.decode(i.responseText);Ext.toast(h.message,false,"t")},failure:function(i,g){Ext.getBody().unmask();Ext.toast("Unable to delete data",false,"t");var h=Ext.decode(i.responseText);Ext.toast(h.message,false,"t")}})}}]}],listeners:{rowdblclick:"onGridRowClick"}});Ext.define("TalentAcquisition.view.jobtype.JobTypeController",{extend:"Ext.app.ViewController",alias:"controller.jobtypecontroller",requires:["TalentAcquisition.overrides.window.Toast"],onGridRowClick:function(h,d,c,i,f,g){var j=this.getView(),a=j.down("form").getForm();a.setValues(d.data);var b=this.getView().down("collapsiblecontainer").down("[name=eastpanel]");if(!Ext.isEmpty(b)){b.toggleCollapse()}},onWindowOutsideTap:function(){},eastContainerCollapse:function(){var a=this.getView(),b=a.down("collapsiblecontainer").down("[name=eastpanel]");a.down("form").reset();if(!Ext.isEmpty(b)){b.toggleCollapse()}},onFormSaveClick:function(){var b=this.getView(),f=b.down("form"),d=f.getValues(),e=b.down("grid"),c=e.getStore(),a;d.name=d.name.trim();if(!Ext.isEmpty(c)){a=c.findExact("name",d.name);if(a==-1){a=c.findExact("name",d.name.toUpperCase());if(a==-1){a=c.findExact("name",d.name.toLowerCase())}}if(a!=-1&&Ext.isEmpty(d.ddo_jobtype_id)){var g=c.getAt(a);if(g.get("name").toUpperCase()==d.name.toUpperCase()){Ext.toast("record already exits",false,"t");return}}else{if(a!=-1&&!Ext.isEmpty(d.ddo_jobtype_id)){var g=c.getAt(a);if(g.get("name").toUpperCase()==d.name.toUpperCase()&&(g.get("description")==d.description||Ext.isEmpty(d.description))){Ext.toast("record already exits",false,"t");return}}}}params={name:d.name,description:d.description,ddo_jobtype_id:d.ddo_jobtype_id};f.reset();Ext.Ajax.request({url:"/jobtype",method:Ext.isEmpty(d.ddo_jobtype_id)?"POST":"PUT",params:params,success:function(j,h){var i=Ext.decode(j.responseText);e.getStore().reload();Ext.getBody().unmask();Ext.toast(i.message,false,"t")},failure:function(j,h){var i=Ext.decode(j.responseText);Ext.getBody().unmask();Ext.toast(i.message,false,"t")}})},onGridDeleteClick:function(){var a=this.getView(),b=a.down("grid"),c=b.getStore(),e=c.getAt(rowIndex),d;d={ddo_jobtype_id:e.get("ddo_jobtype_id")};Ext.Ajax.request({url:"/jobtype",method:"DELETE",params:d,success:function(h,f){c.removeAt(rowIndex);c.reload();Ext.getBody().unmask();var g=Ext.decode(h.responseText);Ext.toast(g.message,false,"t")},failure:function(h,f){Ext.getBody().unmask();var g=Ext.decode(h.responseText);Ext.toast(g.message,false,"t")}})}});Ext.define("TalentAcquisition.view.jobtype.JobTypeViewModel",{extend:"Ext.app.ViewModel",alias:"viewmodel.jobtypeviewmodel"});Ext.define("TalentAcquisition.view.jobtype.JobType",{extend:"Ext.container.Container",alias:"widget.jobtypeview",requires:["TalentAcquisition.view.jobtype.JobTypeForm","TalentAcquisition.ux.container.CollapsibleContainer","TalentAcquisition.view.jobtype.JobTypeGrid","TalentAcquisition.view.jobtype.JobTypeController","TalentAcquisition.view.jobtype.JobTypeViewModel","TalentAcquisition.store.jobtype.JobTypeStore"],controller:"jobtypecontroller",viewModel:{type:"jobtypeviewmodel"},items:[{xtype:"collapsiblecontainer",mainContainerTitle:"Job Type",grid:"jobtypegrid",gridStore:Ext.create("TalentAcquisition.store.jobtype.JobTypeStore"),form:"jobtypeform",fbButtonRequired:true}],listeners:{activate:function(d,c,a,b){this.down("jobtypegrid").getStore().load()}}});Ext.define("TalentAcquisition.view.referemployee.ReferEmployeeForm",{extend:"Ext.form.Panel",alias:"widget.referemployeeform",defaults:{width:"100%"},cls:"ta-header",title:"Employee Referral Form",padding:20,scrollable:true,bigForm:true,hideButton:true,layout:{type:"vbox",align:"middle",pack:"stretch"},tools:[{xtype:"button",scale:"medium",iconCls:"goalsbackbtn-cls",cls:"back-btn-cls",style:{border:0},handler:"onBackButtonClick"}],bbar:{cls:"appwindow-cls",layout:{type:"hbox"},padding:"25 0 21 0",items:[{xtype:"button",text:"Cancel",cls:"app-window-cancel-btn",handler:"onCancelBtnClick"},{xtype:"button",text:"Refer",cls:"app-window-save-btn",formBind:true,listeners:{click:"onFormSaveClick"}}]},items:[{xtype:"container",defaults:{padding:10,xtype:"textfield",cls:"rule-name-cls",beforeLabelTextTpl:'<span class="ta-mandatory-field-cls">*</span>',msgTarget:"side"},layout:{type:"column"},items:[{xtype:"hiddenfield",name:"ddo_jobopenings_id"},{hidden:false,submitValue:false,name:"name",columnWidth:0.5,fieldLabel:"Job Opening"},{fieldLabel:"Main skill",name:"primaryskills",allowBlank:false,columnWidth:0.5,emptyText:"Enter user skills here"}]},{xtype:"fieldset",title:"Candidate Details",items:[{xtype:"container",defaults:{labelWidth:"25%",cls:"ta-search-field",beforeLabelTextTpl:'<span class="ta-mandatory-field-cls">*</span>',padding:10,xtype:"textfield",msgTarget:"side"},layout:{type:"column"},items:[{fieldLabel:"Name",name:"candidatename",allowBlank:false,columnWidth:0.5,emptyText:"Please enter user name"},{fieldLabel:"Email",name:"email",vtype:"email",allowBlank:false,columnWidth:0.5,emptyText:"user@example.com"},{fieldLabel:"Phone",name:"phone",xtype:"numberfield",columnWidth:0.5,allowBlank:false,minValue:0,hideTrigger:true,keyNavEnabled:false,maxLength:12,minLength:10,regex:/^[0-9]*$/i,invalidText:"Please enter valid data",mouseWheelEnabled:false,emptyText:"Please enter mobile number"},{fieldLabel:"Location",name:"location",allowBlank:false,columnWidth:0.5,emptyText:"Please enter location"},{xtype:"form",columnWidth:0.49,margin:"0 0 0 10",items:[{anchor:"100%",xtype:"filefield",opType:"upload",name:"feedsImage",buttonOnly:true,buttonConfig:{cls:"request-access-btn",width:"100%",text:"Browse doc, pdf extension files only"},bind:{readOnly:"{joiend}"},listeners:{change:"onCVupload"},fieldLabel:"Upload CV :"}]},{xtype:"hiddenfield",name:"curriculumvitae"},{fieldLabel:"How do you know this person ?",name:"relation",beforeLabelTextTpl:"",columnWidth:1,xtype:"textarea"},{fieldLabel:"Recommendation",name:"recommendation",beforeLabelTextTpl:"",columnWidth:1,xtype:"textarea"}]}]}]});Ext.define("TalentAcquisition.view.referemployee.ReferEmployeeGrid",{extend:"Ext.grid.Panel",alias:"widget.referemployeegrid",cls:"karmalist-cls",viewConfig:{loadMask:false},requires:["TalentAcquisition.store.jobopenings.JobOpeningsStore"],tbar:{height:30,layout:{type:"hbox"},items:[{xtype:"tbspacer",width:"70%"},{xtype:"label",html:"<b>Job not listed? </b>"},{xtype:"button",text:'<font color="blue"><b>Enter details</font>',handler:"onEnterCandidateDetailsBtnClick"}]},height:500,width:"100%",margin:"0 0 0 10",padding:"0px 10px 0px 0px",columns:[{text:"Job Name",dataIndex:"name",flex:0.3,height:42,filter:{type:"string",itemDefaults:{emptyText:"Search..."}}},{text:"Department",dataIndex:"ddo_department_name",flex:0.4,hidden:true},{text:"Location",dataIndex:"ddo_joblocation_name",flex:0.4},{text:"Designation",dataIndex:"ddo_designation_name",flex:0.4},{text:"Qualification",dataIndex:"ddo_jobeducation_name",flex:0.4},{text:"Total Experience",dataIndex:"totalexperience",flex:0.4},{text:"Open Positions",dataIndex:"openpositions",flex:0.4},{text:"Responsibilities",dataIndex:"responsibilities",hidden:true,flex:0.4},{text:"Skills",dataIndex:"primaryskills",flex:0.4},{text:"Status",dataIndex:"jobstatus",flex:0.4},{xtype:"widgetcolumn",width:150,align:"center",widget:{xtype:"button",text:"Refer a friend",cls:"request-access-btn",tooltip:"Refer a friend",handler:"onReferAnEmployeeBtnClick"}}]});Ext.define("TalentAcquisition.view.referemployee.ReferEmployeeController",{extend:"Ext.app.ViewController",alias:"controller.referemployeecontroller",requires:["TalentAcquisition.overrides.window.Toast"],onReferAnEmployeeBtnClick:function(h,g,i,j,f,d,k){this.onSetActiveItem(1);var c=this.onGetActiveItem(),b=h.$widgetRecord.data,a=c.getForm();a.setValues(b);c.down("textfield[name=name]").show();c.down("textfield[name=name]").setEditable(false);c.down("textfield[name=primaryskills]").setEditable(false)},onEnterCandidateDetailsBtnClick:function(b,i,c,d,f,a,h){this.onSetActiveItem(1);var g=this.onGetActiveItem();g.down("textfield[name=name]").hide();g.down("textfield[name=name]").setEditable(true);g.down("textfield[name=primaryskills]").setEditable(true)},onCancelBtnClick:function(b,e){var d=this,a=d.getView(),c=a.down("form");c.reset(),this.onSetActiveItem(0)},onBackButtonClick:function(a,b){this.onSetActiveItem(0);this.getView().down("referemployeeform").reset()},onSetActiveItem:function(b){var a=this;a.getView().getLayout().setActiveItem(b)},onGetActiveItem:function(){var a=this;return a.getView().getLayout().getActiveItem()},onFormSaveClick:function(){var e=this,a=e.getView(),d=a.down("form"),b=d.getValues(),c=a.down("grid");d.reset();Ext.Ajax.request({url:"/employeereferral",method:"POST",params:b,success:function(h,f){var g=Ext.decode(h.responseText);c.getStore().reload();Ext.getBody().unmask();Ext.toast(g.message,false,"t");e.onSetActiveItem(0)},failure:function(h,f){var g=Ext.decode(h.responseText);Ext.getBody().unmask();Ext.toast(g.message,false,"t")}})},onCVupload:function(f,i,e){var g=this,b=f.fileInputEl.dom.files[0],c=i,d=new FileReader(),h=b.type,a=f.up("form"),j=a.up("form").down("hiddenfield[name=curriculumvitae]");d.onload=function(){if(h=="application/msword"||h=="application/pdf"||h=="application/doc"||h=="application/docx"||h=="application/txt"||h=="application/wps"||h=="application/odt"||h=="application/wpd"||h=="application/rtf"){a.submit({url:"/feed/feedsPostedPics",waitMsg:"Uploading your cv...",success:function(k,n){var m=Ext.JSON.decode(n.response.responseText),l=m.data;j.setValue(l);Ext.toast({html:"File uploaded successfully",width:150,align:"t"})},failure:function(k){Ext.toast({html:"File not loaded",width:150,align:"t"})}})}else{Ext.toast({html:"Invalid Format",width:150,align:"t"})}};d.readAsDataURL(b)}});Ext.define("TalentAcquisition.view.referemployee.ReferEmployeeViewModel",{extend:"Ext.app.ViewModel",alias:"viewmodel.referemployeeviewmodel"});Ext.define("TalentAcquisition.view.referemployee.ReferEmployee",{extend:"Ext.panel.Panel",alias:"widget.referemployeeview",requires:["TalentAcquisition.view.referemployee.ReferEmployeeForm","TalentAcquisition.view.referemployee.ReferEmployeeGrid","TalentAcquisition.view.referemployee.ReferEmployeeController","TalentAcquisition.view.referemployee.ReferEmployeeViewModel"],controller:"referemployeecontroller",viewModel:{type:"referemployeeviewmodel"},layout:{type:"card",activeItem:0},items:[{xtype:"collapsiblecontainer",mainContainerTitle:"Job Openings",grid:"referemployeegrid",gridStore:Ext.create("TalentAcquisition.store.jobopenings.JobOpeningsStore"),filterData:[{name:"Job Name",value:"name"},{name:"Location",value:"ddo_joblocation_name"},{name:"Designation",value:"ddo_designation_name"},{name:"skills",value:"primaryskills"},{name:"status",value:"jobstatus"}],fbButtonRequired:false},{xtype:"referemployeeform"}],listeners:{activate:function(d,c,a,b){this.down("[name=filterColumn]").reset()}}});Ext.define("TalentAcquisition.view.referemployee.myreferrals.MyReferralsGrid",{extend:"Ext.grid.Panel",alias:"widget.myreferralsgrid",title:"My Referrals",cls:"karmalist-cls ta-header",viewConfig:{loadMask:false},requires:["TalentAcquisition.store.employeereferral.MyReferralsStore"],height:500,width:"100%",store:Ext.create("TalentAcquisition.store.employeereferral.MyReferralsStore"),margin:"0 0 0 10",padding:"0px 10px 0px 0px",columns:[{text:"Job Opening",dataIndex:"ddo_jobopenings_name",flex:0.3},{text:"Candidate Name",dataIndex:"candidatename",flex:0.4},{text:"email",dataIndex:"email",flex:0.4},{text:"Phone",dataIndex:"phone",flex:0.4},{text:"Location",dataIndex:"location",flex:0.4},{text:"Status",dataIndex:"ddo_jobapplicationstatus_name",flex:0.4,renderer:function(a){return Ext.isEmpty(a)?"Processing":a}},{text:"Referred By",dataIndex:"referredby_name",hidden:true,flex:0.4}],listeners:{activate:function(f,e,b,d){var c=this.getStore();var a=Ext.getStore("login").data.items[0].getData().ddo_employee_id;c.load();c.filter([{property:"referredby",value:a}])}}});Ext.define("TalentAcquisition.view.referemployee.referredemployee.ReferredEmployeeViewModel",{extend:"Ext.app.ViewModel",alias:"viewmodel.referredemployeeviewmodel",data:{portal:true,consultency:true,reffredBy:true,joiend:false}});Ext.define("TalentAcquisition.view.referemployee.referredemployee.ConvertToApplicationController",{extend:"Ext.app.ViewController",alias:"controller.converttoapplicationcontroller",requires:["TalentAcquisition.overrides.window.Toast"],onFormSaveClick:function(){var b=this.getView(),a=b.getValues();b.reset();if(Ext.isEmpty(a.ddo_jobapplications_id)){delete a.ddo_jobapplications_id}Ext.Ajax.request({url:"/jobapplications",method:Ext.isEmpty(a.ddo_jobapplications_id)?"POST":"PUT",params:a,success:function(e,c){Ext.getBody().unmask();var d=Ext.decode(e.responseText);Ext.toast(d.message,false,"t");b.up().setActiveItem(0);b.up("referredemployeeview").down("[name=referredEmployeeCollCon]").down("[name=eastpanel]").toggleCollapse()},failure:function(e,c){Ext.getBody().unmask();var d=Ext.decode(e.responseText);Ext.toast(d.message,false,"t")}})},onCancelClick:function(){var a=this.getView();a.up().setActiveItem()},onCVupload:function(f,i,e){var g=this,b=f.fileInputEl.dom.files[0],c=i,d=new FileReader(),h=b.type,a=f.up("form"),j=a.up("form").down("hiddenfield[name=curriculumvitae]");d.onload=function(){if(h=="application/msword"||h=="application/pdf"||h=="application/doc"||h=="application/docx"||h=="application/txt"||h=="application/wps"||h=="application/odt"||h=="application/wpd"||h=="application/rtf"){a.submit({url:"/feed/feedsPostedPics",waitMsg:"Uploading your cv...",success:function(k,n){var m=Ext.JSON.decode(n.response.responseText),l=m.data;j.setValue(l);Ext.toast({html:"File uploaded successfully",width:150,align:"t"})},failure:function(k){Ext.toast({html:"File not loaded",width:150,align:"t"})}})}else{Ext.toast({html:"Invalid Format",width:150,align:"t"})}};d.readAsDataURL(b)}});Ext.define("TalentAcquisition.view.referemployee.referredemployee.ConvertToApplication",{extend:"Ext.form.Panel",requires:["Ext.form.field.ComboBox","TalentAcquisition.store.jobopenings.JobOpeningsStore","TalentAcquisition.store.jobeducation.JobEducationStore","TalentAcquisition.store.jobapplicationstatus.JobApplicationStatusStore","TalentAcquisition.store.jobsource.JobSourceStore","TalentAcquisition.store.jobsourcelines.JobSourceLinesStore","TalentAcquisition.store.ReportingsStore","TalentAcquisition.store.jobopenings.JobOpeningsStore","TalentAcquisition.store.jobsourcelines.JobSourceLinesStore","TalentAcquisition.view.referemployee.referredemployee.ReferredEmployeeViewModel","TalentAcquisition.view.referemployee.referredemployee.ConvertToApplicationController"],alias:"widget.converttoapplication",bigForm:true,title:"Convert To Application",cls:"ta-header",defaults:{width:"100%"},viewModel:{type:"referemployeeviewmodel"},controller:"converttoapplicationcontroller",scrollable:true,bbar:{cls:"appwindow-cls",layout:{type:"hbox"},padding:"25 0 21 0",items:[{xtype:"button",text:"Cancel",cls:"app-window-cancel-btn",handler:"onCancelClick"},{xtype:"button",text:"Save",cls:"app-window-save-btn",formBind:true,listeners:{click:"onFormSaveClick"}}]},layout:{type:"vbox",align:"middle",pack:"stretch"},items:[{xtype:"container",defaults:{beforeLabelTextTpl:'<span class="ta-mandatory-field-cls">*</span>',cls:"rule-name-cls",padding:10,msgTarget:"side"},layout:{type:"column"},items:[{xtype:"hiddenfield",name:"ddo_jobapplications_id"},{xtype:"combobox",columnWidth:0.5,fieldLabel:"Job Opening",allowBlank:false,store:"jobopeningsstores",editable:false,forceSelection:true,displayField:"name",valueField:"ddo_jobopenings_id",name:"ddo_jobopenings_id",listeners:{beforequery:function(a){delete a.combo.lastQuery}}}]},{xtype:"fieldset",title:"Candidate Details",items:[{xtype:"container",defaults:{labelWidth:"25%",cls:"ta-search-field",beforeLabelTextTpl:'<span class="ta-mandatory-field-cls">*</span>',padding:10,msgTarget:"side"},layout:{type:"column"},items:[{xtype:"textfield",fieldLabel:"First Name",name:"firstname",allowBlank:false,columnWidth:0.5},{fieldLabel:"Middle Name",xtype:"textfield",name:"middlename",beforeLabelTextTpl:"",columnWidth:0.5},{fieldLabel:"Last Name",xtype:"textfield",name:"lastname",allowBlank:false,columnWidth:0.5},{xtype:"textfield",fieldLabel:"Father's name",name:"fathersname",beforeLabelTextTpl:"",columnWidth:0.5},{xtype:"combobox",fieldLabel:"Highest Education",typeAhead:true,typeAheadDelay:50,queryMode:"local",forceSelection:true,anyMatch:true,store:"jobeducationstore",displayField:"name",valueField:"ddo_jobeducation_id",name:"ddo_jobeducation_id",allowBlank:false,columnWidth:0.5,listeners:{beforequery:function(a){delete a.combo.lastQuery}}},{xtype:"datefield",fieldLabel:"Year of Passing",name:"yearofpassing",allowBlank:false,columnWidth:0.5,maxValue:new Date()},{xtype:"combobox",fieldLabel:"Skill Type",editable:false,store:{type:"jobopeningsstore"},displayField:"primaryskills",valueField:"primaryskills",name:"skilltype",columnWidth:0.5,allowBlank:false}]}]},{xtype:"fieldset",title:"Communication Details",items:[{xtype:"container",defaults:{labelWidth:"25%",cls:"ta-search-field",beforeLabelTextTpl:'<span class="ta-mandatory-field-cls">*</span>',padding:10,msgTarget:"side"},layout:{type:"column"},items:[{xtype:"numberfield",fieldLabel:"Mobile Number",name:"mobilenumber",columnWidth:0.5,allowBlank:false,minValue:0,hideTrigger:true,keyNavEnabled:false,mouseWheelEnabled:false,maxLength:12,minLength:10,regex:/^[0-9]*$/i,invalidText:"Please enter valid data",enforceMaxLength:10,emptyText:"Enter mobile number "},{fieldLabel:"Email",xtype:"textfield",name:"email",vtype:"email",columnWidth:0.5,allowBlank:false},{fieldLabel:"Address",xtype:"textarea",name:"address",columnWidth:0.5,allowBlank:false}]}]},{xtype:"fieldset",title:"Other Details",items:[{xtype:"container",defaults:{labelWidth:"25%",cls:"ta-search-field",padding:10,msgTarget:"side"},layout:{type:"column"},items:[{xtype:"textfield",fieldLabel:"Current City",name:"currentcity",columnWidth:0.5},{xtype:"combobox",fieldLabel:"Current Employment Status",editable:false,name:"currentemploymentstatus",store:["Employed","Not Employed"],displayField:"name",valueField:"name",columnWidth:0.5},{fieldLabel:"Previous Company",xtype:"textfield",name:"previouscompany",columnWidth:0.5},{xtype:"numberfield",hideTrigger:true,minValue:0,maxLength:4,fieldLabel:"Total Experience (Years)",name:"totalexperience",columnWidth:0.5},{fieldLabel:"ID. Proof",xtype:"textfield",name:"idproof",columnWidth:0.5},{xtype:"textfield",fieldLabel:"ID. Proof Number",name:"idproofnumber",columnWidth:0.5},{fieldLabel:"Available From",xtype:"datefield",name:"availablefrom",columnWidth:0.5},{fieldLabel:"Applied On",xtype:"datefield",name:"appliedon",columnWidth:0.5},{fieldLabel:"Notice Period (Days)",xtype:"numberfield",hideTrigger:true,columnWidth:0.5,minValue:0,maxLength:3,minLength:1,regex:/^[0-9]*$/i,invalidText:"Please enter valid data",name:"noticeperiodindays"},{xtype:"combobox",columnWidth:0.5,allowBlank:false,typeAhead:true,typeAheadDelay:50,queryMode:"local",forceSelection:true,name:"ddo_designation_id",fieldLabel:"Requested Designation",beforeLabelTextTpl:'<span class="ta-mandatory-field-cls">*</span>',store:{type:"designationstore",autoLoad:"true"},displayField:"name",valueField:"ddo_designation_id",listeners:{beforequery:function(a){delete a.combo.lastQuery}}}]}]},{xtype:"fieldset",title:"Hiring Details",items:[{xtype:"container",defaults:{labelWidth:"25%",cls:"ta-search-field",padding:10,msgTarget:"side"},layout:{type:"column"},items:[{xtype:"combobox",fieldLabel:"Recruiter",store:{type:"reportingsstore"},columnWidth:0.5,allowBlank:false,name:"recruitedby",displayField:"empname",beforeLabelTextTpl:'<span class="ta-mandatory-field-cls">*</span>',valueField:"empid",typeAhead:true,typeAheadDelay:50,queryMode:"local",forceSelection:true,listeners:{beforequery:function(a){delete a.combo.lastQuery}}},{xtype:"combobox",columnWidth:0.5,fieldLabel:"Status",store:"jobapplicationstatusstore",displayField:"name",allowBlank:false,beforeLabelTextTpl:'<span class="ta-mandatory-field-cls">*</span>',valueField:"ddo_jobapplicationstatus_id",name:"ddo_jobapplicationstatus_id",editable:false,listeners:{beforequery:function(a){delete a.combo.lastQuery}}},{xtype:"combobox",fieldLabel:"Hiring Source",store:"jobsourcestores",name:"ddo_jobsource_id",displayField:"name",valueField:"ddo_jobsource_id",editable:false,columnWidth:0.5,listeners:{change:function(c,e,a){var b=this.up("referredemployeeview"),d;if(!Ext.isEmpty(b)){d=b.getViewModel();if(c.getRawValue()=="Job Portal"){d.set("portal",false);d.set("consultency",true);d.set("reffredBy",true)}else{if(c.getRawValue()=="Consultancy"){d.set("portal",true);d.set("consultency",false);d.set("reffredBy",true)}else{if(c.getRawValue()=="Referred by employee"){d.set("portal",true);d.set("consultency",true);d.set("reffredBy",false)}}}d.notify()}}}}]},{xtype:"hiddenfield",name:"curriculumvitae"},{xtype:"container",defaults:{labelWidth:"25%",cls:"ta-search-field",padding:10,msgTarget:"side"},layout:{type:"column"},items:[{xtype:"combobox",fieldLabel:"Referred By",store:{type:"reportingsstore"},name:"referredby",bind:{hidden:"{reffredBy}"},displayField:"empname",valueField:"empid",columnWidth:0.5,typeAhead:true,typeAheadDelay:50,queryMode:"local",forceSelection:true,listeners:{beforequery:function(a){delete a.combo.lastQuery}}},{xtype:"combobox",fieldLabel:"Consultancy Name",name:"vendorname",editable:false,store:{type:"vendor"},bind:{hidden:"{consultency}"},displayField:"name",columnWidth:0.5,valueField:"ddo_jobsourcelines_id"},{xtype:"combobox",fieldLabel:"Job Portal Name",editable:false,name:"jobportalname",store:{type:"portal"},bind:{hidden:"{portal}"},displayField:"name",columnWidth:0.5,valueField:"ddo_jobsourcelines_id"},{xtype:"textarea",fieldLabel:"Comments",columnWidth:1,name:"comments"}]}]}]});Ext.define("TalentAcquisition.view.referemployee.referredemployee.ReferredEmployeeForm",{extend:"Ext.form.Panel",required:["TalentAcquisition.store.jobapplication.JobApplicationStore"],alias:"widget.referredemployeeform",defaults:{width:"100%"},padding:20,scrollable:true,hideButton:true,layout:{type:"vbox",align:"middle",pack:"stretch"},bbar:{layout:{type:"hbox"},cls:"appwindow-cls",padding:"25 0 21 0",items:[{xtype:"button",text:"Reject",cls:"app-window-cancel-btn",listeners:{click:"onFormSaveClick"}},{xtype:"button",text:"Convert",cls:"app-window-save-btn",handler:"onConvertToApplication"}]},items:[{xtype:"container",defaults:{width:"50%",padding:10,editable:false,xtype:"textfield",cls:"rule-name-cls"},layout:{type:"hbox",pack:"start",align:"stretch"},items:[{xtype:"hiddenfield",name:"ddo_jobopenings_id"},{xtype:"hiddenfield",name:"ddo_jobapplicationstatus_id"},{xtype:"hiddenfield",name:"referredby"},{xtype:"hiddenfield",name:"ddo_employeereferral_id"},{xtype:"hiddenfield",name:"curriculumvitae"},{name:"ddo_jobopenings_name",fieldLabel:"Job Opening",submitValue:false},{fieldLabel:"Main skill",name:"primaryskills"}]},{xtype:"fieldset",title:"Candidate Details",items:[{xtype:"container",defaults:{cls:"ta-search-field",width:"50%",padding:10,editable:false,xtype:"textfield"},layout:{type:"hbox",pack:"start",align:"stretch"},items:[{fieldLabel:"Name",name:"candidatename"},{fieldLabel:"Location",name:"location",emptyText:"location"}]},{xtype:"container",defaults:{cls:"ta-search-field",width:"50%",padding:10,msgTarget:"side",xtype:"textfield",editable:false},layout:{type:"hbox",pack:"start",align:"stretch"},items:[{fieldLabel:"Email",name:"email"},{fieldLabel:"Phone",name:"phone",xtype:"numberfield",hideTrigger:true}]},{xtype:"container",defaults:{editable:false,width:"100%",padding:10,cls:"ta-search-field"},layout:{type:"hbox",pack:"start",align:"stretch"},items:[{fieldLabel:"How do you know this person",name:"relation",xtype:"textarea"}]},{xtype:"container",defaults:{width:"100%",padding:10,cls:"ta-search-field",editable:false,labelWidth:"20%"},layout:{type:"hbox",pack:"start",align:"stretch"},items:[{fieldLabel:"Recommendation",name:"recommendation",xtype:"textarea"}]}]}],listeners:{activate:function(d,c,a,b){}}});Ext.define("TalentAcquisition.view.referemployee.referredemployee.ReferredEmployeeGrid",{extend:"Ext.grid.Panel",alias:"widget.referredemployeegrid",cls:"karmalist-cls",viewConfig:{loadMask:false},requires:["TalentAcquisition.store.employeereferral.EmployeeReferralStore"],height:500,width:"100%",margin:"0 0 0 10",padding:"0px 10px 0px 0px",columns:[{text:"Job Opening",dataIndex:"ddo_jobopenings_name",flex:0.3},{text:"Name",dataIndex:"candidatename",flex:0.4},{text:"email",dataIndex:"email",flex:0.4},{text:"Phone",dataIndex:"phone",flex:0.4},{text:"Location",dataIndex:"location",flex:0.4},{text:"Referred By",dataIndex:"referredby_name",flex:0.4},{text:"Status",dataIndex:"ddo_jobapplicationstatus_name",flex:0.4,renderer:function(a){return Ext.isEmpty(a)?"Processing":a}}],listeners:{rowdblclick:"onGridRowClick"}});Ext.define("TalentAcquisition.view.referemployee.referredemployee.ReferredEmployeeController",{extend:"Ext.app.ViewController",alias:"controller.referredemployeecontroller",requires:["TalentAcquisition.overrides.window.Toast"],onGridRowClick:function(j,g,f,k,h,i){var l=this.getView(),b=l.down("form").getForm(),d=g.getData().ddo_jobapplicationstatus_id;collapsiblecontainer=l.down("collapsiblecontainer"),c=collapsiblecontainer.down("[name=eastpanel]");b.setValues(g.data);var c=this.getView().down("collapsiblecontainer").down("[name=eastpanel]");this.getView().down("collapsiblecontainer").getViewModel().set("hideBtn",false);if(!Ext.isEmpty(c)){c.toggleCollapse()}collapsiblecontainer.down("button[iconCls=rule-plus]").setHidden(true);if(!Ext.isEmpty(d)){var a=l.down("form").down("button[text=Reject]"),m=l.down("form").down("button[text=Convert]");if(d==5){Ext.Msg.alert("Info","You have already rejected this application");a.disable();m.disable()}else{a.enable();m.enable()}}},onConvertToApplication:function(){var a=this.getView();var b=a.down("collapsiblecontainer").down("referredemployeeform").getValues();var c=a.setActiveItem(1);b.firstname=b.candidatename;b.mobilenumber=b.phone;b.ddo_jobapplicationstatus_id="";c.getForm().setValues(b)},eastContainerCollapse:function(){var a=this.getView(),b=a.down("collapsiblecontainer");b.down("button[iconCls=rule-plus]").disable();eastpanel=b.down("[name=eastpanel]");a.down("form").reset();if(!Ext.isEmpty(eastpanel)){eastpanel.toggleCollapse()}},onFormSaveClick:function(){var e=this,f=e.getView(),c=f.down("form"),h=c.getValues(),a=f.down("grid");var i=Ext.getStore("jobapplicationstatusstore");i.findExact("name","Offer Rejected");var b=i.findExact("name","Offer Rejected");var d=Ext.getStore("jobapplicationstatusstore").getAt(b);var g=d.data.ddo_jobapplicationstatus_id;h.ddo_jobapplicationstatus_id=g;if(h.ddo_jobopenings_id=="0"){h.ddo_jobopenings_id=""}Ext.Msg.confirm("Info.","Are you sure you want to reject this application?",function(j){if(j==="yes"){c.reset();Ext.Ajax.request({url:"/employeereferral",method:"PUT",params:h,success:function(m,k){var l=Ext.decode(m.responseText);a.getStore().reload();Ext.getBody().unmask();Ext.toast("The application has been rejected",false,"t")},failure:function(m,k){var l=Ext.decode(m.responseText);Ext.getBody().unmask();Ext.toast(l.message,false,"t")}});collapsibleContainer=f.down("collapsiblecontainer");eastpanel=collapsibleContainer.down("[name=eastpanel]");f.down("form").reset();if(!Ext.isEmpty(eastpanel)){eastpanel.toggleCollapse()}}})}});Ext.define("TalentAcquisition.view.referemployee.referredemployee.ReferredEmployee",{extend:"Ext.container.Container",alias:"widget.referredemployeeview",requires:["TalentAcquisition.view.referemployee.referredemployee.ReferredEmployeeForm","TalentAcquisition.view.referemployee.referredemployee.ReferredEmployeeGrid","TalentAcquisition.view.referemployee.referredemployee.ReferredEmployeeController","TalentAcquisition.view.referemployee.referredemployee.ReferredEmployeeViewModel","TalentAcquisition.store.employeereferral.EmployeeReferralStore","TalentAcquisition.view.referemployee.referredemployee.ConvertToApplication"],controller:"referredemployeecontroller",viewModel:{type:"referredemployeeviewmodel"},layout:{type:"card",activeItem:0},items:[{xtype:"collapsiblecontainer",mainContainerTitle:"Referred Employees",name:"referredEmployeeCollCon",grid:"referredemployeegrid",gridStore:Ext.create("TalentAcquisition.store.employeereferral.EmployeeReferralStore"),form:"referredemployeeform",bigForm:true,fbButtonRequired:false},{xtype:"converttoapplication"}],listeners:{activate:function(d,c,a,b){this.down("referredemployeegrid").getStore().load()}}});